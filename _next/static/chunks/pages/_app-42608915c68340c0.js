(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{2639:function(d,m,y){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return y(1959)}])},9669:function(d,m,y){"use strict";var w=y(1527),k=y(880),S=y.n(k),x=y(1718);let E="https://emerzh.github.io/labas/";m.Z=d=>{let{title:m="L\xe0-bas",description:y="A DESC",siteName:k="L\xe0-bas",canonical:F,ogImage:P,ogType:O="website",twitterHandle:I="@eMerzh"}=d,R=(0,x.useRouter)();return void 0===P&&(P="".concat(R.basePath,"/og_image.png")),(0,w.jsxs)(S(),{children:[(0,w.jsx)("title",{children:"".concat(m," â€“ ").concat(k)},"title"),(0,w.jsx)("meta",{name:"description",content:y}),(0,w.jsx)("meta",{property:"og:type",content:O},"og_type"),(0,w.jsx)("meta",{property:"og:title",content:m},"og_title"),(0,w.jsx)("meta",{property:"og:description",content:y},"og_description"),(0,w.jsx)("meta",{property:"og:locale",content:"en_IE"},"og_locale"),(0,w.jsx)("meta",{property:"og:site_name",content:k},"og_site_name"),(0,w.jsx)("meta",{property:"og:url",content:null!=F?F:E},"og_url"),(0,w.jsx)("meta",{property:"og:image",content:P},"og_image"),(0,w.jsx)("meta",{property:"og:image:alt",content:"".concat(m," | ").concat(k)},"og_image:alt"),(0,w.jsx)("meta",{property:"og:image:width",content:"1200"},"og_image:width"),(0,w.jsx)("meta",{property:"og:image:height",content:"631"},"og_image:height"),(0,w.jsx)("meta",{name:"robots",content:"index,follow"}),(0,w.jsx)("meta",{name:"twitter:card",content:"summary_large_image"},"twitter:card"),(0,w.jsx)("meta",{name:"twitter:site",content:I},"twitter:site"),(0,w.jsx)("meta",{name:"twitter:creator",content:I},"twitter:creator"),(0,w.jsx)("meta",{property:"twitter:title",content:m},"twitter:title"),(0,w.jsx)("meta",{property:"twitter:description",content:y},"twitter:description")," ",(0,w.jsx)("meta",{property:"twitter:image",content:P},"twitter:image"),(0,w.jsx)("link",{rel:"canonical",href:null!=F?F:E}),(0,w.jsx)("link",{rel:"shortcut icon",href:"".concat(R.basePath,"/favicon.ico")})]})}},1959:function(d,m,y){"use strict";y.r(m),y.d(m,{default:function(){return _app}});var w,k=y(1527);y(2093);var S=y(1718);function e(d,m){var y=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);m&&(w=w.filter(function(m){return Object.getOwnPropertyDescriptor(d,m).enumerable})),y.push.apply(y,w)}return y}function t(d){for(var m=1;m<arguments.length;m++){var y=null!=arguments[m]?arguments[m]:{};m%2?e(Object(y),!0).forEach(function(m){s(d,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(y)):e(Object(y)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(y,m))})}return d}function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(d)}function r(d,m){if(!(d instanceof m))throw TypeError("Cannot call a class as a function")}function i(d,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,w.key,w)}}function o(d,m,y){return m&&i(d.prototype,m),y&&i(d,y),Object.defineProperty(d,"prototype",{writable:!1}),d}function s(d,m,y){return m in d?Object.defineProperty(d,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[m]=y,d}function a(d,m){if("function"!=typeof m&&null!==m)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),m&&c(d,m)}function u(d){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)})(d)}function c(d,m){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,m){return d.__proto__=m,d})(d,m)}function f(d){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}();return function(){var y,w=u(d);if(m){var k=u(this).constructor;y=Reflect.construct(w,arguments,k)}else y=w.apply(this,arguments);return function(d,m){if(m&&("object"==typeof m||"function"==typeof m))return m;if(void 0!==m)throw TypeError("Derived constructors may only return object or undefined");return function(d){if(void 0===d)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(d)}(this,y)}}function p(d,m){return function(d){if(Array.isArray(d))return d}(d)||function(d,m){var y=null==d?null:"undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(null!=y){var w,k,S=[],x=!0,E=!1;try{for(y=y.call(d);!(x=(w=y.next()).done)&&(S.push(w.value),!m||S.length!==m);x=!0);}catch(d){E=!0,k=d}finally{try{x||null==y.return||y.return()}finally{if(E)throw k}}return S}}(d,m)||g(d,m)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(d){return function(d){if(Array.isArray(d))return _(d)}(d)||function(d){if("undefined"!=typeof Symbol&&null!=d[Symbol.iterator]||null!=d["@@iterator"])return Array.from(d)}(d)||g(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(d,m){if(d){if("string"==typeof d)return _(d,m);var y=Object.prototype.toString.call(d).slice(8,-1);return"Object"===y&&d.constructor&&(y=d.constructor.name),"Map"===y||"Set"===y?Array.from(d):"Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?_(d,m):void 0}}function _(d,m){(null==m||m>d.length)&&(m=d.length);for(var y=0,w=Array(m);y<m;y++)w[y]=d[y];return w}function v(d,m){var y="undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(!y){if(Array.isArray(d)||(y=g(d))||m&&d&&"number"==typeof d.length){y&&(d=y);var w=0,i=function(){};return{s:i,n:function(){return w>=d.length?{done:!0}:{done:!1,value:d[w++]}},e:function(d){throw d},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var k,S=!0,x=!1;return{s:function(){y=y.call(d)},n:function(){var d=y.next();return S=d.done,d},e:function(d){x=!0,k=d},f:function(){try{S||null==y.return||y.return()}finally{if(x)throw k}}}}var x={DEBUG:!1,LIB_VERSION:"1.84.1"},E=Array.prototype,F=Object.prototype,P=F.toString,O=F.hasOwnProperty,I="undefined"!=typeof window?window:{},R=I.navigator||{userAgent:""},T=I.document||{},$=R.userAgent,M=["localhost","127.0.0.1"],N=E.forEach,z=E.indexOf,W={},J="[PostHog.js]",X={_log:function(d){if((x.DEBUG||window.POSTHOG_DEBUG)&&!U(window.console)&&window.console){for(var m=("__rrweb_original__"in window.console[d])?window.console[d].__rrweb_original__:window.console[d],y=arguments.length,w=Array(y>1?y-1:0),k=1;k<y;k++)w[k-1]=arguments[k];m.apply(void 0,[J].concat(w))}},info:function(){for(var d=arguments.length,m=Array(d),y=0;y<d;y++)m[y]=arguments[y];X._log.apply(X,["log"].concat(m))},warn:function(){for(var d=arguments.length,m=Array(d),y=0;y<d;y++)m[y]=arguments[y];X._log.apply(X,["warn"].concat(m))},error:function(){for(var d=arguments.length,m=Array(d),y=0;y<d;y++)m[y]=arguments[y];X._log.apply(X,["error"].concat(m))},critical:function(){for(var d,m=arguments.length,y=Array(m),w=0;w<m;w++)y[w]=arguments[w];(d=console).error.apply(d,[J].concat(y))},unintializedWarning:function(d){X.error("You must initialize PostHog before calling ".concat(d))}},A=function(d){return d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function C(d,m,y){if(Array.isArray(d)){if(N&&d.forEach===N)d.forEach(m,y);else if("length"in d&&d.length===+d.length){for(var w=0,k=d.length;w<k;w++)if(w in d&&m.call(y,d[w],w)===W)return}}}function D(d,m,y){if(null!=d){if(Array.isArray(d))return C(d,m,y);for(var w in d)if(O.call(d,w)&&m.call(y,d[w],w)===W)return}}var j=function(d){for(var m=arguments.length,y=Array(m>1?m-1:0),w=1;w<m;w++)y[w-1]=arguments[w];return C(y,function(m){for(var y in m)void 0!==m[y]&&(d[y]=m[y])}),d},ee=Array.isArray||function(d){return"[object Array]"===P.call(d)},L=function(d){try{return/^\s*\bfunction\b/.test(d)}catch(d){return!1}};function H(d,m){return -1!==d.indexOf(m)}var B=function(d){return d===Object(d)&&!ee(d)},q=function(d){if(B(d)){for(var m in d)if(O.call(d,m))return!1;return!0}return!1},U=function(d){return void 0===d},V=function(d){return"[object String]"==P.call(d)},G=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},Y=function(d){return function(){try{for(var m=arguments.length,y=Array(m),w=0;w<m;w++)y[w]=arguments[w];return d.apply(this,y)}catch(d){X.critical("Implementation error. Please turn on debug and contact support@posthog.com."),X.critical(d)}}},Q=function(d){var m={};return D(d,function(d,y){V(d)&&d.length>0&&(m[y]=d)}),m},et=["$performance_raw"];function K(d){var m,y,w,k,S,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",E=0,F=0,P="",O=[];if(!d)return d;d=Z(d);do m=(S=d.charCodeAt(E++)<<16|d.charCodeAt(E++)<<8|d.charCodeAt(E++))>>18&63,y=S>>12&63,w=S>>6&63,k=63&S,O[F++]=x.charAt(m)+x.charAt(y)+x.charAt(w)+x.charAt(k);while(E<d.length);switch(P=O.join(""),d.length%3){case 1:P=P.slice(0,-2)+"==";break;case 2:P=P.slice(0,-1)+"="}return P}var Z=function(d){var m,y,w,k,S="";for(m=y=0,w=(d=(d+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,k=0;k<w;k++){var x=d.charCodeAt(k),E=null;x<128?y++:E=x>127&&x<2048?String.fromCharCode(x>>6|192,63&x|128):String.fromCharCode(x>>12|224,x>>6&63|128,63&x|128),null!==E&&(y>m&&(S+=d.substring(m,y)),S+=E,m=y=k+1)}return y>m&&(S+=d.substring(m,d.length)),S},en=["ahrefsbot","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","hubspot","linkedinbot","mj12bot","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","twitterbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"],te=function(d,m){if(!d)return!1;var y=d.toLowerCase();return en.concat(m||[]).some(function(d){var m=d.toLowerCase();return y.includes?y.includes(m):-1!==y.indexOf(m)})},ne=function(d,m){var y=RegExp("[\\?&]"+m.replace(/[[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)").exec(d);if(null===y||y&&"string"!=typeof y[1]&&y[1].length)return"";var w=y[1];try{w=decodeURIComponent(w)}catch(d){X.error("Skipping decoding for malformed query param: "+w)}return w.replace(/\+/g," ")},re=function(d,m){var y=d.match(RegExp(m+"=([^&]*)"));return y?y[1]:null},er=function(){function e(d){return d&&(d.preventDefault=e.preventDefault,d.stopPropagation=e.stopPropagation),d}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(d,m,y,w,k){if(d){if(d.addEventListener&&!w)d.addEventListener(m,y,!!k);else{var S="on"+m,x=d[S];d[S]=function(m){if(m=m||e(window.event)){var w,k=!0;L(x)&&(w=x(m));var S=y.call(d,m);return!1!==w&&!1!==S||(k=!1),k}}}}else X.error("No valid element provided to register_event")}}();function oe(d,m){var n=function(){var y=T.createElement("script");y.type="text/javascript",y.src=d,y.onload=function(d){return m(void 0,d)},y.onerror=function(d){return m(d)};var w,k=T.querySelectorAll("body > script");k.length>0?null===(w=k[0].parentNode)||void 0===w||w.insertBefore(y,k[0]):T.body.appendChild(y)};T.body?n():T.addEventListener("DOMContentLoaded",n)}var ei={campaignParams:function(d){var m=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","fbclid","msclkid"].concat(d||[]),y={};return D(m,function(d){var m=ne(T.URL,d);m.length&&(y[d]=m)}),y},searchEngine:function(){var d=T.referrer;return d?0===d.search("https?://(.*)google.([^/?]*)")?"google":0===d.search("https?://(.*)bing.com")?"bing":0===d.search("https?://(.*)yahoo.com")?"yahoo":0===d.search("https?://(.*)duckduckgo.com")?"duckduckgo":null:null},searchInfo:function(){var d=ei.searchEngine(),m="yahoo"!=d?"q":"p",y={};if(null!==d){y.$search_engine=d;var w=ne(T.referrer,m);w.length&&(y.ph_keyword=w)}return y},browser:function(d,m,y){return m=m||"",y||H(d," OPR/")?H(d,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(d)?"BlackBerry":H(d,"IEMobile")||H(d,"WPDesktop")?"Internet Explorer Mobile":H(d,"SamsungBrowser/")?"Samsung Internet":H(d,"Edge")||H(d,"Edg/")?"Microsoft Edge":H(d,"FBIOS")?"Facebook Mobile":H(d,"Chrome")?"Chrome":H(d,"CriOS")?"Chrome iOS":H(d,"UCWEB")||H(d,"UCBrowser")?"UC Browser":H(d,"FxiOS")?"Firefox iOS":H(m,"Apple")?H(d,"Mobile")?"Mobile Safari":"Safari":H(d,"Android")?"Android Mobile":H(d,"Konqueror")?"Konqueror":H(d,"Firefox")?"Firefox":H(d,"MSIE")||H(d,"Trident/")?"Internet Explorer":H(d,"Gecko")?"Mozilla":""},browserVersion:function(d,m,y){var w={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[ei.browser(d,m,y)];if(void 0===w)return null;var k=d.match(w);return k?parseFloat(k[k.length-2]):null},browserLanguage:function(){return R.language||R.userLanguage},os:function(d){if(/Windows/i.test(d)){if(/Phone/.test(d)||/WPDesktop/.test(d))return{os_name:"Windows Phone",os_version:""};var m=/Windows NT ([0-9.]+)/i.exec(d);return m&&m[1]?{os_name:"Windows",os_version:m[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(d)){var y=/OS (\d+)_(\d+)_?(\d+)?/i.exec(d);return y&&y[1]?{os_name:"iOS",os_version:[y[1],y[2],y[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(d)){var w=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(d);return w&&w[1]?{os_name:"Android",os_version:[w[1],w[2],w[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(d))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(d)){var k=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(d);return k&&k[1]?{os_name:"Mac OS X",os_version:[k[1],k[2],k[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(d)?{os_name:"Linux",os_version:""}:/CrOS/.test(d)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(d){return/Windows Phone/i.test(d)||/WPDesktop/.test(d)?"Windows Phone":/iPad/.test(d)?"iPad":/iPod/.test(d)?"iPod Touch":/iPhone/.test(d)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(d)?"BlackBerry":/Android/.test(d)&&!/Mobile/.test(d)?"Android Tablet":/Android/.test(d)?"Android":""},deviceType:function(d){var m=this.device(d);return"iPad"===m||"Android Tablet"===m?"Tablet":m?"Mobile":"Desktop"},referrer:function(){return T.referrer||"$direct"},referringDomain:function(){if(!T.referrer)return"$direct";var d=T.createElement("a");return d.href=T.referrer,d.host},properties:function(){var d=ei.os($);return j(Q({$os:d.os_name,$os_version:d.os_version,$browser:ei.browser($,R.vendor,I.opera),$device:ei.device($),$device_type:ei.deviceType($)}),{$current_url:null==I?void 0:I.location.href,$host:null==I?void 0:I.location.host,$pathname:null==I?void 0:I.location.pathname,$browser_version:ei.browserVersion($,R.vendor,I.opera),$browser_language:ei.browserLanguage(),$screen_height:null==I?void 0:I.screen.height,$screen_width:null==I?void 0:I.screen.width,$viewport_height:null==I?void 0:I.innerHeight,$viewport_width:null==I?void 0:I.innerWidth,$lib:"web",$lib_version:x.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:G()/1e3})},people_properties:function(){var d=ei.os($);return j(Q({$os:d.os_name,$os_version:d.os_version,$browser:ei.browser($,R.vendor,I.opera)}),{$browser_version:ei.browserVersion($,R.vendor,I.opera)})}};function ae(d){switch(n(d.className)){case"string":return d.className;case"object":return("baseVal"in d.className?d.className.baseVal:null)||d.getAttribute("class")||"";default:return""}}function ue(d){var m="";return he(d)&&!ge(d)&&d.childNodes&&d.childNodes.length&&D(d.childNodes,function(d){de(d)&&d.textContent&&(m+=A(d.textContent).split(/(\s+)/).filter(_e).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),A(m)}function ce(d){return!!d&&1===d.nodeType}function le(d,m){return!!d&&!!d.tagName&&d.tagName.toLowerCase()===m.toLowerCase()}function de(d){return!!d&&3===d.nodeType}function fe(d){return!!d&&11===d.nodeType}var eo=["a","button","form","input","select","textarea","label"];function he(d){for(var m=d;m.parentNode&&!le(m,"body");m=m.parentNode){var y=ae(m).split(" ");if(H(y,"ph-sensitive")||H(y,"ph-no-capture"))return!1}if(H(ae(d).split(" "),"ph-include"))return!0;var w=d.type||"";if("string"==typeof w)switch(w.toLowerCase()){case"hidden":case"password":return!1}var k=d.name||d.id||"";return!("string"==typeof k&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(k.replace(/[^a-zA-Z0-9]/g,"")))}function ge(d){return!!(le(d,"input")&&!["button","checkbox","submit","reset"].includes(d.type)||le(d,"select")||le(d,"textarea")||"true"===d.getAttribute("contenteditable"))}function _e(d){return!(null===d||U(d)||"string"==typeof d&&(d=A(d),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((d||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(d)))}function ve(d){var m=ue(d);return _e(m="".concat(m," ").concat(function me(d){var m="";return d&&d.childNodes&&d.childNodes.length&&D(d.childNodes,function(d){var y;if(d&&"span"===(null===(y=d.tagName)||void 0===y?void 0:y.toLowerCase()))try{var w=ue(d);m="".concat(m," ").concat(w).trim(),d.childNodes&&d.childNodes.length&&(m="".concat(m," ").concat(me(d)).trim())}catch(d){X.error(d)}}),m}(d)).trim())?m:""}var es=function(){function e(d){r(this,e),this.clicks=[],this.enabled=d}return o(e,[{key:"isRageClick",value:function(d,m,y){if(!this.enabled)return!1;var w=this.clicks[this.clicks.length-1];if(w&&Math.abs(d-w.x)+Math.abs(m-w.y)<30&&y-w.timestamp<1e3){if(this.clicks.push({x:d,y:m,timestamp:y}),3===this.clicks.length)return!0}else this.clicks=[{x:d,y:m,timestamp:y}];return!1}}]),e}(),ea="$people_distinct_id",eu="__alias",ec="__timers",el="$autocapture_disabled_server_side",ed="$session_recording_enabled_server_side",ef="$console_log_recording_enabled_server_side",ep="$session_recording_recorder_version_server_side",eh="$sesid",e_="$enabled_feature_flags",eg="$early_access_features",ev="$stored_person_properties",em="$stored_group_properties",ey="$surveys",eb="$flag_call_reported",ew="$user_state",ek="$posthog_quota_limited",eS=[ea,eu,"__cmpns",ec,ed,eh,e_,ew,ek,eg,em,ev,ey,eb];function je(d,m){return m.length>d?m.slice(0,d)+"...":m}var ex={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(d){var m,y=null===this._isDisabledServerSide?!(null===(m=d.persistence)||void 0===m||!m.props[el]):this._isDisabledServerSide,w=!!d.config.autocapture;this._isAutocaptureEnabled=w&&!y},_previousElementSibling:function(d){if(d.previousElementSibling)return d.previousElementSibling;var m=d;do m=m.previousSibling;while(m&&!ce(m));return m},_getAugmentPropertiesFromElement:function(d){if(!he(d))return{};var m={};return D(d.attributes,function(d){if(0===d.name.indexOf("data-ph-capture-attribute")){var y=d.name.replace("data-ph-capture-attribute-",""),w=d.value;y&&w&&_e(w)&&(m[y]=w)}}),m},_getPropertiesFromElement:function(d,m,y){var w,k=d.tagName.toLowerCase(),S={tag_name:k};eo.indexOf(k)>-1&&!y&&("a"===k.toLowerCase()||"button"===k.toLowerCase()?S.$el_text=je(1024,ve(d)):S.$el_text=je(1024,ue(d)));var x=ae(d);x.length>0&&(S.classes=x.split(" ").filter(function(d){return""!==d}));var E=null===(w=this.config)||void 0===w?void 0:w.element_attribute_ignorelist;D(d.attributes,function(y){var w;ge(d)&&-1===["name","id","class"].indexOf(y.name)||null!=E&&E.includes(y.name)||!m&&_e(y.value)&&("string"!=typeof(w=y.name)||"_ngcontent"!==w.substring(0,10)&&"_nghost"!==w.substring(0,7))&&(S["attr__"+y.name]=je(1024,y.value))});for(var F=1,P=1,O=d;O=this._previousElementSibling(O);)F++,O.tagName===d.tagName&&P++;return S.nth_child=F,S.nth_of_type=P,S},_getDefaultProperties:function(d){return{$event_type:d,$ce_version:1}},_extractCustomPropertyValue:function(d){var m=[];return D(document.querySelectorAll(d.css_selector),function(d){var y;["input","select"].indexOf(d.tagName.toLowerCase())>-1?y=d.value:d.textContent&&(y=d.textContent),_e(y)&&m.push(y)}),m.join(", ")},_getCustomProperties:function(d){var m=this,y={};return D(this._customProperties,function(w){D(w.event_selectors,function(k){D(document.querySelectorAll(k),function(k){H(d,k)&&he(k)&&(y[w.name]=m._extractCustomPropertyValue(w))})})}),y},_getEventTarget:function(d){var m;return void 0===d.target?d.srcElement||null:null!==(m=d.target)&&void 0!==m&&m.shadowRoot?d.composedPath()[0]||null:d.target||null},_captureEvent:function(d,m){var y,w=this,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$autocapture",S=this._getEventTarget(d);if(de(S)&&(S=S.parentNode||null),"$autocapture"===k&&"click"===d.type&&d instanceof MouseEvent&&null!==(y=this.rageclicks)&&void 0!==y&&y.isRageClick(d.clientX,d.clientY,(new Date).getTime())&&this._captureEvent(d,m,"$rageclick"),S&&function(d,m){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!d||le(d,"html")||!ce(d))return!1;if(null!=y&&y.url_allowlist){var w=window.location.href,k=y.url_allowlist;if(k&&!k.some(function(d){return w.match(d)}))return!1}if(null!=y&&y.dom_event_allowlist){var S=y.dom_event_allowlist;if(S&&!S.some(function(d){return m.type===d}))return!1}if(null!=y&&y.element_allowlist){var x=y.element_allowlist;if(x&&!x.some(function(m){return d.tagName.toLowerCase()===m}))return!1}if(null!=y&&y.css_selector_allowlist){var E=y.css_selector_allowlist;if(E&&!E.some(function(m){return d.matches(m)}))return!1}for(var F=!1,P=[d],O=!0,I=d;I.parentNode&&!le(I,"body");)if(fe(I.parentNode))P.push(I.parentNode.host),I=I.parentNode.host;else{if(!(O=I.parentNode||!1))break;if(eo.indexOf(O.tagName.toLowerCase())>-1)F=!0;else{var R=window.getComputedStyle(O);R&&"pointer"===R.getPropertyValue("cursor")&&(F=!0)}P.push(O),I=O}var T=window.getComputedStyle(d);if(T&&"pointer"===T.getPropertyValue("cursor")&&"click"===m.type)return!0;var $=d.tagName.toLowerCase();switch($){case"html":return!1;case"form":return"submit"===m.type;case"input":case"select":case"textarea":return"change"===m.type||"click"===m.type;default:return F?"click"===m.type:"click"===m.type&&(eo.indexOf($)>-1||"true"===d.getAttribute("contenteditable"))}}(S,d,this.config)){for(var x,E,F=[S],P=S;P.parentNode&&!le(P,"body");)fe(P.parentNode)?(F.push(P.parentNode.host),P=P.parentNode.host):(F.push(P.parentNode),P=P.parentNode);var O,I=[],R={},T=!1;if(D(F,function(d){var y=he(d);"a"===d.tagName.toLowerCase()&&(O=d.getAttribute("href"),O=y&&_e(O)&&O),H(ae(d).split(" "),"ph-no-capture")&&(T=!0),I.push(w._getPropertiesFromElement(d,m.config.mask_all_element_attributes,m.config.mask_all_text)),j(R,w._getAugmentPropertiesFromElement(d))}),m.config.mask_all_text||("a"===S.tagName.toLowerCase()||"button"===S.tagName.toLowerCase()?I[0].$el_text=ve(S):I[0].$el_text=ue(S)),O&&(I[0].attr__href=O),T)return!1;var $=j(this._getDefaultProperties(d.type),{$elements:I},null!==(x=I[0])&&void 0!==x&&x.$el_text?{$el_text:null===(E=I[0])||void 0===E?void 0:E.$el_text}:{},this._getCustomProperties(F),R);return m.capture(k,$),!0}},_navigate:function(d){window.location.href=d},_addDomEventHandlers:function(d){var m=this,n=function(y){y=y||window.event,m._captureEvent(y,d)};er(document,"submit",n,!1,!0),er(document,"change",n,!1,!0),er(document,"click",n,!1,!0)},_customProperties:[],rageclicks:null,config:void 0,init:function(d){var m;"boolean"!=typeof d.__autocapture&&(this.config=d.__autocapture),null!==(m=this.config)&&void 0!==m&&m.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map(function(d){return new RegExp(d)})),this.rageclicks=new es(d.config.rageclick)},afterDecideResponse:function(d,m){var y=m.config.token;this._initializedTokens.indexOf(y)>-1?X.info('autocapture already initialized for token "'+y+'"'):(m.persistence&&m.persistence.register(s({},el,!!d.autocapture_opt_out)),this._isDisabledServerSide=!!d.autocapture_opt_out,this._setIsAutocaptureEnabled(m),this._initializedTokens.push(y),d&&d.config&&d.config.enable_collect_everything&&this._isAutocaptureEnabled?(d.custom_properties&&(this._customProperties=d.custom_properties),this._addDomEventHandlers(m)):m.__autocapture=!1)},enabledForProject:function(d,m,y){if(!d)return!0;m=U(m)?10:m,y=U(y)?10:y;for(var w=0,k=0;k<d.length;k++)w+=d.charCodeAt(k);return w%m<y},isBrowserSupported:function(){return L(document.querySelectorAll)}};!function(d){for(var m in d)"function"==typeof d[m]&&(d[m]=d[m].bind(d))}(ex),function(d){for(var m in d)"function"==typeof d[m]&&(d[m]=Y(d[m]))}(ex);var eE,eF,eP="$active_feature_flags",eO="$override_feature_flags",eI="$feature_flag_payloads",qe=function(d){var m,y={},w=v(function(d){for(var m=Object.keys(d),y=m.length,w=Array(y);y--;)w[y]=[m[y],d[m[y]]];return w}(d||{}));try{for(w.s();!(m=w.n()).done;){var k=p(m.value,2),S=k[0],x=k[1];x&&(y[S]=x)}}catch(d){w.e(d)}finally{w.f()}return y},eR=function(){function e(d){r(this,e),this.instance=d,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return o(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var d=this.instance.get_property(e_),m=this.instance.get_property(eO);if(!m)return d||{};for(var y=j({},d),w=Object.keys(m),k=0;k<w.length;k++)!1===m[w[k]]?delete y[w[k]]:y[w[k]]=m[w[k]];return this._override_warning||(X.warn(" Overriding feature flags!",{enabledFlags:d,overriddenFlags:m,finalFlags:y}),this._override_warning=!0),y}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(eI)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(d){this.$anon_distinct_id=d}},{key:"setReloadingPaused",value:function(d){this.reloadFeatureFlagsInAction=d}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var d=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!d.reloadFeatureFlagsInAction&&d.reloadFeatureFlagsQueued&&(d.reloadFeatureFlagsQueued=!1,d._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var d=this;this.setReloadingPaused(!0);var m=this.instance.config.token,y=this.instance.get_property(ev),w=this.instance.get_property(em),k=K(JSON.stringify({token:m,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:y,group_properties:w,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.config.api_host+"/decide/?v=3",{data:k},{method:"POST"},this.instance._prepare_callback(function(m){d.$anon_distinct_id=void 0,d.receivedFeatureFlags(m),d.setReloadingPaused(!1),d._startReloadTimer()}))}},{key:"getFeatureFlag",value:function(d){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var y,w=this.getFlagVariants()[d],k="".concat(w),S=this.instance.get_property(eb)||{};return!m.send_event&&"send_event"in m||d in S&&S[d].includes(k)||(Array.isArray(S[d])?S[d].push(k):S[d]=[k],null===(y=this.instance.persistence)||void 0===y||y.register(s({},eb,S)),this.instance.capture("$feature_flag_called",{$feature_flag:d,$feature_flag_response:w})),w}X.warn('getFeatureFlag for key "'+d+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(d){return this.getFlagPayloads()[d]}},{key:"isFeatureEnabled",value:function(d){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(d,m);X.warn('isFeatureEnabled for key "'+d+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(d){this.featureFlagEventHandlers.push(d)}},{key:"removeFeatureFlagsHandler",value:function(d){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(m){return m!==d})}},{key:"receivedFeatureFlags",value:function(d){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var m=this.getFlagVariants(),y=this.getFlagPayloads();(function(d,m){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},k=d.featureFlags,S=d.featureFlagPayloads;if(k){if(Array.isArray(k)){var x,E={};if(k)for(var F=0;F<k.length;F++)E[k[F]]=!0;m&&m.register((s(x={},eP,k),s(x,e_,E),x))}else{var P,O=k,I=S;d.errorsWhileComputingFlags&&(O=t(t({},y),O),I=t(t({},w),I)),m&&m.register((s(P={},eP,Object.keys(qe(O))),s(P,e_,O||{}),s(P,eI,I||{}),P))}}})(d,this.instance.persistence,m,y),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(d){if(!this.instance.__loaded||!this.instance.persistence)return X.unintializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,!1===d)this.instance.persistence.unregister(eO);else if(Array.isArray(d)){for(var m={},y=0;y<d.length;y++)m[d[y]]=!0;this.instance.persistence.register(s({},eO,m))}else this.instance.persistence.register(s({},eO,d))}},{key:"onFeatureFlags",value:function(d){var m=this;if(this.addFeatureFlagsHandler(d),this.instance.decideEndpointWasHit){var y=this._prepareFeatureFlagsForCallbacks();d(y.flags,y.flagVariants)}return function(){return m.removeFeatureFlagsHandler(d)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(d,m){var y,w,k=s({},"$feature_enrollment/".concat(d),m);this.instance.capture("$feature_enrollment_update",{$feature_flag:d,$feature_enrollment:m,$set:k}),this.setPersonPropertiesForFlags(k,!1);var S=t(t({},this.getFlagVariants()),{},s({},d,m));null===(y=this.instance.persistence)||void 0===y||y.register((s(w={},eP,Object.keys(qe(S))),s(w,e_,S),w)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(d){var m=this,y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],w=this.instance.get_property(eg);if(w&&!y)return d(w);this.instance._send_request("".concat(this.instance.config.api_host,"/api/early_access_features/?token=").concat(this.instance.config.token),{},{method:"GET"},function(y){var w,k=y.earlyAccessFeatures;return null===(w=m.instance.persistence)||void 0===w||w.register(s({},eg,k)),d(k)})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var d=this.getFlags(),m=this.getFlagVariants();return{flags:d.filter(function(d){return m[d]}),flagVariants:Object.keys(m).filter(function(d){return m[d]}).reduce(function(d,y){return d[y]=m[y],d},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var d=this._prepareFeatureFlagsForCallbacks(),m=d.flags,y=d.flagVariants;this.featureFlagEventHandlers.forEach(function(d){return d(m,y)})}},{key:"setPersonPropertiesForFlags",value:function(d){var m=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],y=this.instance.get_property(ev)||{};this.instance.register(s({},ev,t(t({},y),d))),m&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(ev)}},{key:"setGroupPropertiesForFlags",value:function(d){var m=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],y=this.instance.get_property(em)||{};0!==Object.keys(y).length&&Object.keys(y).forEach(function(m){y[m]=t(t({},y[m]),d[m]),delete d[m]}),this.instance.register(s({},em,t(t({},y),d))),m&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(d){if(d){var m=this.instance.get_property(em)||{};this.instance.register(s({},em,t(t({},m),{},s({},d,{}))))}else this.instance.unregister(em)}}]),e}(),eT=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,e$={is_supported:function(){return!0},error:function(d){X.error("cookieStore error: "+d)},get:function(d){try{for(var m=d+"=",y=document.cookie.split(";").filter(function(d){return d.length}),w=0;w<y.length;w++){for(var k=y[w];" "==k.charAt(0);)k=k.substring(1,k.length);if(0===k.indexOf(m))return decodeURIComponent(k.substring(m.length,k.length))}}catch(d){}return null},parse:function(d){var m;try{m=JSON.parse(e$.get(d))||{}}catch(d){}return m},set:function(d,m,y,w,k){try{var S="",x="",E="";if(w){var F=document.location.hostname.match(eT),P=F?F[0]:"";S=P?"; domain=."+P:""}if(y){var O=new Date;O.setTime(O.getTime()+24*y*36e5),x="; expires="+O.toUTCString()}k&&(E="; secure");var I=d+"="+encodeURIComponent(JSON.stringify(m))+x+"; SameSite=Lax; path=/"+S+E;return document.cookie=I,I}catch(d){return}},remove:function(d,m){try{e$.set(d,"",-1,m)}catch(d){return}}},eC=null,eA={is_supported:function(){if(null!==eC)return eC;var d=!0;if("undefined"!=typeof window)try{var m="__mplssupport__";eA.set(m,"xyz"),'"xyz"'!==eA.get(m)&&(d=!1),eA.remove(m)}catch(m){d=!1}else d=!1;return d||X.error("localStorage unsupported; falling back to cookie store"),eC=d,d},error:function(d){X.error("localStorage error: "+d)},get:function(d){try{return window.localStorage.getItem(d)}catch(d){eA.error(d)}return null},parse:function(d){try{return JSON.parse(eA.get(d))||{}}catch(d){}return null},set:function(d,m){try{window.localStorage.setItem(d,JSON.stringify(m))}catch(d){eA.error(d)}},remove:function(d){try{window.localStorage.removeItem(d)}catch(d){eA.error(d)}}},eD=["distinct_id",eh],ej=t(t({},eA),{},{parse:function(d){try{var m={};try{m=e$.parse(d)||{}}catch(d){}var y=j(m,JSON.parse(eA.get(d)||"{}"));return eA.set(d,y),y}catch(d){}return null},set:function(d,m,y,w,k){try{eA.set(d,m);var S={};eD.forEach(function(d){m[d]&&(S[d]=m[d])}),Object.keys(S).length&&e$.set(d,S,y,w,k)}catch(d){eA.error(d)}},remove:function(d,m){try{window.localStorage.removeItem(d),e$.remove(d,m)}catch(d){eA.error(d)}}}),eM={},eH={is_supported:function(){return!0},error:function(d){X.error("memoryStorage error: "+d)},get:function(d){return eM[d]||null},parse:function(d){return eM[d]||null},set:function(d,m){eM[d]=m},remove:function(d){delete eM[d]}},eN=null,eL={is_supported:function(){if(null!==eN)return eN;if(eN=!0,"undefined"!=typeof window)try{var d="__support__";eL.set(d,"xyz"),'"xyz"'!==eL.get(d)&&(eN=!1),eL.remove(d)}catch(d){eN=!1}else eN=!1;return eN},error:function(d){X.error("sessionStorage error: ",d)},get:function(d){try{return window.sessionStorage.getItem(d)}catch(d){eL.error(d)}return null},parse:function(d){try{return JSON.parse(eL.get(d))||null}catch(d){}return null},set:function(d,m){try{window.sessionStorage.setItem(d,JSON.stringify(m))}catch(d){eL.error(d)}},remove:function(d){try{window.sessionStorage.removeItem(d)}catch(d){eL.error(d)}}},eB=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],eq=function(){function e(d){r(this,e);var m="";d.token&&(m=d.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.custom_campaign_params=d.custom_campaign_params||[],d.persistence_name?this.name="ph_"+d.persistence_name:this.name="ph_"+m+"_posthog",-1===eB.indexOf(d.persistence.toLowerCase())&&(X.critical("Unknown persistence type "+d.persistence+"; falling back to cookie"),d.persistence="cookie");var y=d.persistence.toLowerCase();"localstorage"===y&&eA.is_supported()?this.storage=eA:"localstorage+cookie"===y&&ej.is_supported()?this.storage=ej:"sessionstorage"===y&&eL.is_supported()?this.storage=eL:this.storage="memory"===y?eH:e$,this.user_state="anonymous",this.load(),this.update_config(d),this.save()}return o(e,[{key:"properties",value:function(){var d={};return D(this.props,function(m,y){if(y===e_&&"object"===n(m))for(var w,k=Object.keys(m),S=0;S<k.length;S++)d["$feature/".concat(k[S])]=m[k[S]];else w=!1,(null===eS?w:z&&eS.indexOf===z?-1!=eS.indexOf(y):(D(eS,function(d){if(w||(w=d===y))return W}),w))||(d[y]=m)}),d}},{key:"load",value:function(){if(!this.disabled){var d=this.storage.parse(this.name);d&&(this.props=j({},d))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(d,m,y){var w=this;if(B(d)){void 0===m&&(m="None"),this.expire_days=void 0===y?this.default_expiry:y;var k=!1;if(D(d,function(d,y){w.props.hasOwnProperty(y)&&w.props[y]!==m||(w.props[y]=d,k=!0)}),k)return this.save(),!0}return!1}},{key:"register",value:function(d,m){var y=this;if(B(d)){this.expire_days=void 0===m?this.default_expiry:m;var w=!1;if(D(d,function(m,k){d.hasOwnProperty(k)&&y.props[k]!==m&&(y.props[k]=m,w=!0)}),w)return this.save(),!0}return!1}},{key:"unregister",value:function(d){d in this.props&&(delete this.props[d],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(ei.campaignParams(this.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(ei.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||ei.referrer(),$referring_domain:this.props.$referring_domain||ei.referringDomain()})}},{key:"get_referrer_info",value:function(){return Q({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(d){return D(this.props,function(m,y){y in d||(d[y]=m)}),d}},{key:"update_config",value:function(d){this.default_expiry=this.expire_days=d.cookie_expiration,this.set_disabled(d.disable_persistence),this.set_cross_subdomain(d.cross_subdomain_cookie),this.set_secure(d.secure_cookie)}},{key:"set_disabled",value:function(d){this.disabled=d,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(d){d!==this.cross_subdomain&&(this.cross_subdomain=d,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(d){d!==this.secure&&(this.secure=d,this.remove(),this.save())}},{key:"set_event_timer",value:function(d,m){var y=this.props[ec]||{};y[d]=m,this.props[ec]=y,this.save()}},{key:"remove_event_timer",value:function(d){var m=(this.props[ec]||{})[d];return U(m)||(delete this.props[ec][d],this.save()),m}},{key:"get_user_state",value:function(){return this.props[ew]||"anonymous"}},{key:"set_user_state",value:function(d){this.props[ew]=d,this.save()}},{key:"get_quota_limits",value:function(){return this.props[ek]||{}}},{key:"set_quota_limits",value:function(d){this.props[ek]=d,this.save()}}]),e}(),eU=o(function e(d){var m,y,w=this,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),s(this,"bucketSize",100),s(this,"refillRate",10),s(this,"mutationBuckets",{}),s(this,"loggedTracker",{}),s(this,"refillBuckets",function(){Object.keys(w.mutationBuckets).forEach(function(d){w.mutationBuckets[d]=w.mutationBuckets[d]+w.refillRate,w.mutationBuckets[d]>=w.bucketSize&&delete w.mutationBuckets[d]})}),s(this,"getNodeOrRelevantParent",function(d){var m=w.rrweb.mirror.getNode(d);if("svg"!==(null==m?void 0:m.nodeName)&&m instanceof Element){var y=m.closest("svg");if(y)return[w.rrweb.mirror.getId(y),y]}return[d,m]}),s(this,"numberOfChanges",function(d){var m,y,w,k,S,x,E,F;return(null!==(m=null===(y=d.removes)||void 0===y?void 0:y.length)&&void 0!==m?m:0)+(null!==(w=null===(k=d.attributes)||void 0===k?void 0:k.length)&&void 0!==w?w:0)+(null!==(S=null===(x=d.texts)||void 0===x?void 0:x.length)&&void 0!==S?S:0)+(null!==(E=null===(F=d.adds)||void 0===F?void 0:F.length)&&void 0!==E?E:0)}),s(this,"throttleMutations",function(d){if(3!==d.type||0!==d.data.source)return d;var m=d.data,y=w.numberOfChanges(m);m.attributes&&(m.attributes=m.attributes.filter(function(d){var m,y,k,S=p(w.getNodeOrRelevantParent(d.id),2),x=S[0],E=S[1];return 0!==w.mutationBuckets[x]&&(w.mutationBuckets[x]=null!==(m=w.mutationBuckets[x])&&void 0!==m?m:w.bucketSize,w.mutationBuckets[x]=Math.max(w.mutationBuckets[x]-1,0),0===w.mutationBuckets[x]&&(w.loggedTracker[x]||(w.loggedTracker[x]=!0,null===(y=(k=w.options).onBlockedNode)||void 0===y||y.call(k,x,E))),d)}));var k=w.numberOfChanges(m);return 0!==k||y===k?d:void 0}),this.rrweb=d,this.options=k,this.refillRate=null!==(m=this.options.refillRate)&&void 0!==m?m:this.refillRate,this.bucketSize=null!==(y=this.options.bucketSize)&&void 0!==y?y:this.bucketSize,setInterval(function(){w.refillBuckets()},1e3)}),eV=((eE=eV||{})[eE.DomContentLoaded=0]="DomContentLoaded",eE[eE.Load=1]="Load",eE[eE.FullSnapshot=2]="FullSnapshot",eE[eE.IncrementalSnapshot=3]="IncrementalSnapshot",eE[eE.Meta=4]="Meta",eE[eE.Custom=5]="Custom",eE[eE.Plugin=6]="Plugin",eE);(tc=eF||(eF={}))[tc.Mutation=0]="Mutation",tc[tc.MouseMove=1]="MouseMove",tc[tc.MouseInteraction=2]="MouseInteraction",tc[tc.Scroll=3]="Scroll",tc[tc.ViewportResize=4]="ViewportResize",tc[tc.Input=5]="Input",tc[tc.TouchMove=6]="TouchMove",tc[tc.MediaInteraction=7]="MediaInteraction",tc[tc.StyleSheetRule=8]="StyleSheetRule",tc[tc.CanvasMutation=9]="CanvasMutation",tc[tc.Font=10]="Font",tc[tc.Log=11]="Log",tc[tc.Drag=12]="Drag",tc[tc.StyleDeclaration=13]="StyleDeclaration",tc[tc.Selection=14]="Selection",tc[tc.AdoptedStyleSheet=15]="AdoptedStyleSheet";var ez=[eF.MouseMove,eF.MouseInteraction,eF.Scroll,eF.ViewportResize,eF.Input,eF.TouchMove,eF.MediaInteraction,eF.Drag],eG=function(){function e(d){var m=this;r(this,e),s(this,"_lastActivityTimestamp",Date.now()),s(this,"isIdle",!1),this.instance=d,this.captureStarted=!1,this.snapshots=[],this.emit=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.windowId=null,this.sessionId=null,this.receivedDecide=!1,I.addEventListener("beforeunload",function(){m._flushBuffer()})}return o(e,[{key:"lastActivityTimestamp",get:function(){return this._lastActivityTimestamp}},{key:"endpoint",get:function(){return this._endpoint}},{key:"getSessionManager",value:function(){if(this.instance.sessionManager)return this.instance.sessionManager;X.error("Session recording started without valid sessionManager")}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled()?this.startCaptureAndTrySendingQueuedSnapshots():this.stopRecording()}},{key:"started",value:function(){return this.captureStarted}},{key:"stopRecording",value:function(){this.captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this.captureStarted=!1)}},{key:"isRecordingEnabled",value:function(){var d=!!this.instance.get_property(ed),m=!this.instance.config.disable_session_recording;return d&&m}},{key:"isConsoleLogCaptureEnabled",value:function(){var d=!!this.instance.get_property(ef),m=this.instance.config.enable_recording_console_log;return null!=m?m:d}},{key:"getRecordingVersion",value:function(){var d,m=this.instance.get_property(ep);return(null===(d=this.instance.config.session_recording)||void 0===d?void 0:d.recorderVersion)||m||"v1"}},{key:"afterDecideResponse",value:function(d){var m,y,w,k,S,x;this.receivedDecide=!0,this.instance.persistence&&this.instance.persistence.register((s(S={},ed,!!d.sessionRecording),s(S,ef,null===(w=d.sessionRecording)||void 0===w?void 0:w.consoleLogRecordingEnabled),s(S,ep,null===(k=d.sessionRecording)||void 0===k?void 0:k.recorderVersion),S)),null!==(m=d.sessionRecording)&&void 0!==m&&m.endpoint&&(this._endpoint=null===(x=d.sessionRecording)||void 0===x?void 0:x.endpoint),null!==(y=d.sessionRecording)&&void 0!==y&&y.recorderVersion&&(this.recorderVersion=d.sessionRecording.recorderVersion),this.startRecordingIfEnabled()}},{key:"log",value:function(d){var m,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(m=this.instance.sessionRecording)||void 0===m||m.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:y,trace:[],payload:[JSON.stringify(d)]}},timestamp:G()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){var d=this;this.receivedDecide&&(this.emit=!0,this.snapshots.forEach(function(m){return d._captureSnapshotBuffered(m)})),this._startCapture()}},{key:"_startCapture",value:function(){var d=this,m=this.getSessionManager();if(m&&void 0!==Object.assign&&!this.captureStarted&&!this.instance.config.disable_session_recording){this.captureStarted=!0,m.checkAndGetSessionAndWindowId();var y="v2"===this.getRecordingVersion()?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.getRecordingVersion()?oe(this.instance.config.api_host+"/static/".concat(y,"?v=").concat(x.LIB_VERSION),function(m){if(m)return X.error("Could not load ".concat(y),m);d._onScriptLoaded()}):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(d){var m;return 3===d.type&&-1!==ez.indexOf(null===(m=d.data)||void 0===m?void 0:m.source)}},{key:"_updateWindowAndSessionIds",value:function(d){var m=this.getSessionManager();if(m){var y=this._isInteractiveEvent(d);if(y||this.isIdle||d.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0),y&&(this._lastActivityTimestamp=d.timestamp,this.isIdle&&(this.isIdle=!1,this._tryTakeFullSnapshot())),!this.isIdle){var w=m.checkAndGetSessionAndWindowId(!y,d.timestamp),k=w.windowId,S=w.sessionId;-1!==[2,4].indexOf(d.type)||this.windowId===k&&this.sessionId===S||this._tryTakeFullSnapshot(),this.windowId=k,this.sessionId=S}}}},{key:"_tryTakeFullSnapshot",value:function(){if(!this.captureStarted)return!1;try{var d;return null===(d=this.rrwebRecord)||void 0===d||d.takeFullSnapshot(),!0}catch(d){return X.error("Error taking full snapshot.",d),!1}}},{key:"_onScriptLoaded",value:function(){var d,m=this,y={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=I.rrweb?I.rrweb.record:I.rrwebRecord;for(var w=this.instance.config.session_recording,k=0,S=Object.entries(w||{});k<S.length;k++){var x=p(S[k],2),E=x[0],F=x[1];E in y&&(y[E]=F)}this.rrwebRecord?(this.mutationRateLimiter=null!==(d=this.mutationRateLimiter)&&void 0!==d?d:new eU(this.rrwebRecord,{onBlockedNode:function(d,y){var w="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");X.info(w,{node:y}),m.log("[PostHog Recorder] "+w,"warn")}}),this.stopRrweb=this.rrwebRecord(t({emit:function(d){m.onRRwebEmit(d)},plugins:I.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled()?[I.rrwebConsoleRecord.getRecordConsolePlugin()]:[]},y)),this.instance._addCaptureHook(function(d){try{if("$pageview"===d){var y,w=m._maskUrl(I.location.href);if(!w)return;null===(y=m.rrwebRecord)||void 0===y||y.addCustomEvent("$pageview",{href:w})}}catch(d){X.error("Could not add $pageview to rrweb session",d)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1):X.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"onRRwebEmit",value:function(d){if(d&&"object"===n(d)){if(d.type===eV.Meta){var m=this._maskUrl(d.data.href);if(!m)return;d.data.href=m}var y=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(d):d;if(y){var w=function(d){var m=JSON.stringify(d);if(m.length>5e6){var y,w=v(m.matchAll(/data:([\w/\-.]+);(\w+),([^)"]*)/gim));try{for(w.s();!(y=w.n()).done;){var k=y.value;m="image/"===k[1].toLocaleLowerCase().slice(0,6)?m.replace(k[0],"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="):m.replace(k[0],"")}}catch(d){w.e(d)}finally{w.f()}}return{event:JSON.parse(m),size:m.length}}(function(d){if(d&&"object"===n(d)&&6===d.type&&"object"===n(d.data)&&"rrweb/console@1"===d.data.plugin){d.data.payload.payload.length>10&&(d.data.payload.payload=d.data.payload.payload.slice(0,10),d.data.payload.payload.push("...[truncated]"));for(var m=[],y=0;y<d.data.payload.payload.length;y++)d.data.payload.payload[y]&&d.data.payload.payload[y].length>2e3?m.push(d.data.payload.payload[y].slice(0,2e3)+"...[truncated]"):m.push(d.data.payload.payload[y]);return d.data.payload.payload=m,d}return d}(y)),k=w.event,S=w.size;if(this._updateWindowAndSessionIds(k),!this.isIdle){var x={$snapshot_bytes:S,$snapshot_data:k,$session_id:this.sessionId,$window_id:this.windowId};this.emit?this._captureSnapshotBuffered(x):this.snapshots.push(x)}}}}},{key:"_maskUrl",value:function(d){var m=this.instance.config.session_recording;if(m.maskNetworkRequestFn){var y,w={url:d};return null===(y=w=m.maskNetworkRequestFn(w))||void 0===y?void 0:y.url}return d}},{key:"_flushBuffer",value:function(){return this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0),this.buffer&&0!==this.buffer.data.length&&this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_captureSnapshotBuffered",value:function(d){var m,y=this,w=2+((null===(m=this.buffer)||void 0===m?void 0:m.data.length)||0);(!this.buffer||this.buffer.size+d.$snapshot_bytes+w>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=d.$snapshot_bytes,this.buffer.data.push(d.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){y._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(d){this.instance.capture("$snapshot",d,{transport:"XHR",method:"POST",endpoint:this._endpoint,_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:2===d.$snapshot_data.type}})}}]),e}(),eW={entryType:0,timeOrigin:1,name:2,startTime:3,redirectStart:4,redirectEnd:5,workerStart:6,fetchStart:7,domainLookupStart:8,domainLookupEnd:9,connectStart:10,secureConnectionStart:11,connectEnd:12,requestStart:13,responseStart:14,responseEnd:15,decodedBodySize:16,encodedBodySize:17,initiatorType:18,nextHopProtocol:19,renderBlockingStatus:20,responseStatus:21,transferSize:22,element:23,renderTime:24,loadTime:25,size:26,id:27,url:28,domComplete:29,domContentLoadedEvent:30,domInteractive:31,loadEventEnd:32,loadEventStart:33,redirectCount:34,navigationType:35,unloadEventEnd:36,unloadEventStart:37,duration:39,timestamp:40},eY=["first-input","navigation","paint","resource"],eQ=["/s/","/e/"],eJ=function(){function e(d){r(this,e),s(this,"_forceAllowLocalhost",!1),this.instance=d}return o(e,[{key:"startObservingIfEnabled",value:function(){this.isEnabled()?this.startObserving():this.stopObserving()}},{key:"startObserving",value:function(){var d,m,y=this;if(!this.observer){if(void 0!==(null===(d=window)||void 0===d||null===(m=d.PerformanceObserver)||void 0===m?void 0:m.supportedEntryTypes)){if(!M.includes(location.hostname)||this._forceAllowLocalhost)try{this.observer=new PerformanceObserver(function(d){d.getEntries().forEach(function(d){y._capturePerformanceEvent(d)})}),PerformanceObserver.supportedEntryTypes.filter(function(d){return eY.includes(d)}).forEach(function(d){var m;null===(m=y.observer)||void 0===m||m.observe({type:d,buffered:!0})})}catch(d){X.error("PostHog failed to start performance observer",d),this.stopObserving()}else X.info("[PerformanceObserver] not started because we are on localhost.")}else X.info("[PerformanceObserver] not started because PerformanceObserver is not supported by this browser.")}}},{key:"stopObserving",value:function(){this.observer&&(this.observer.disconnect(),this.observer=void 0)}},{key:"isObserving",value:function(){return!!this.observer}},{key:"isEnabled",value:function(){var d,m;return null!==(d=null!==(m=this.instance.config.capture_performance)&&void 0!==m?m:this.remoteEnabled)&&void 0!==d&&d}},{key:"afterDecideResponse",value:function(d){this.remoteEnabled=d.capturePerformance||!1,this.isEnabled()&&this.startObserving()}},{key:"_capturePerformanceEvent",value:function(d){if(0===d.name.indexOf(this.instance.config.api_host)){var m=d.name.replace(this.instance.config.api_host,"");if(eQ.find(function(d){return 0===m.indexOf(d)}))return}var y={url:d.name},w=this.instance.config.session_recording;if(w.maskNetworkRequestFn&&(y=w.maskNetworkRequestFn(y)),y){var k=d.toJSON();k.name=y.url;var S={},x=Math.floor(Date.now()-performance.now());for(var E in S[eW.timeOrigin]=x,S[eW.timestamp]=Math.floor(x+d.startTime),eW)void 0!==k[E]&&(S[eW[E]]=k[E]);if(this.capturePerformanceEvent(S),bt(d)){var F,P=v(d.serverTiming||[]);try{for(P.s();!(F=P.n()).done;){var O,I=F.value;this.capturePerformanceEvent((s(O={},eW.timeOrigin,x),s(O,eW.timestamp,Math.floor(x+d.startTime)),s(O,eW.name,I.name),s(O,eW.duration,I.duration),s(O,eW.entryType,"serverTiming"),O))}}catch(d){P.e(d)}finally{P.f()}}}}},{key:"capturePerformanceEvent",value:function(d){var m,y=d[eW.timestamp];null===(m=this.instance.sessionRecording)||void 0===m||m.onRRwebEmit({type:6,data:{plugin:"posthog/network@1",payload:d},timestamp:y})}}]),e}(),bt=function(d){return"navigation"===d.entryType||"resource"===d.entryType},eX=function(){function e(d){r(this,e),this.instance=d,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return o(e,[{key:"call",value:function(){var d=this,m=K(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(ev),group_properties:this.instance.get_property(em),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request("".concat(this.instance.config.api_host,"/decide/?v=3"),{data:m,verbose:!0},{method:"POST"},function(m){return d.parseDecideResponse(m)})}},{key:"parseDecideResponse",value:function(d){var m,y,w,k,S=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),0!==(null==d?void 0:d.status)){if(!document||!document.body)return X.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){S.parseDecideResponse(d)},500);if(this.instance.toolbar.afterDecideResponse(d),null===(m=this.instance.sessionRecording)||void 0===m||m.afterDecideResponse(d),ex.afterDecideResponse(d,this.instance),null===(y=this.instance.webPerformance)||void 0===y||y.afterDecideResponse(d),null===(w=this.instance.exceptionAutocapture)||void 0===w||w.afterDecideResponse(d),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.featureFlags.receivedFeatureFlags(d),this.instance.compression={},d.supportedCompression&&!this.instance.config.disable_compression){var x,E={},F=v(d.supportedCompression);try{for(F.s();!(x=F.n()).done;)E[x.value]=!0}catch(d){F.e(d)}finally{F.f()}this.instance.compression=E}var P=null===(k=window)||void 0===k?void 0:k.extendPostHogWithSurveys;if(d.surveys&&!P&&oe(this.instance.config.api_host+"/static/surveys.js",function(d){if(d)return X.error("Could not load surveys script",d);window.extendPostHogWithSurveys(S.instance)}),d.siteApps){if(this.instance.config.opt_in_site_apps){var O,I=this.instance.config.api_host,R=v(d.siteApps);try{for(R.s();!(O=R.n()).done;)(function(){var d=O.value,m=d.id,y=d.url,w=[I,"/"===I[I.length-1]&&"/"===y[0]?y.substring(1):y].join("");window["__$$ph_site_app_".concat(m)]=S.instance,oe(w,function(d){d&&X.error("Error while initializing PostHog app with config id ".concat(m),d)})})()}catch(d){R.e(d)}finally{R.f()}}else d.siteApps.length>0&&X.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}else X.error("Failed to fetch feature flags from PostHog.")}}]),e}(),eZ=["https://app.posthog.com","https://eu.posthog.com"],eK=["source"],e0=function(){function e(d){r(this,e),this.instance=d}return o(e,[{key:"afterDecideResponse",value:function(d){var m=d.toolbarParams||d.editorParams||(d.toolbarVersion?{toolbarVersion:d.toolbarVersion}:{});d.isAuthenticated&&m.toolbarVersion&&0===m.toolbarVersion.indexOf("toolbar")&&this.loadToolbar(t({},m))}},{key:"maybeLoadToolbar",value:function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.history;try{if(!m){try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test")}catch(d){return!1}m=window.localStorage}var w,k=re(d.hash,"__posthog")||re(d.hash,"state"),S=k?JSON.parse(decodeURIComponent(k)):null;return S&&"ph_authorize"===S.action?((w=S).source="url",w&&Object.keys(w).length>0&&(S.desiredHash?d.hash=S.desiredHash:y?y.replaceState("",document.title,d.pathname+d.search):d.hash="")):((w=JSON.parse(m.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete w.userIntent),!(!w.token||this.instance.config.token!==w.token)&&(this.loadToolbar(w),!0)}catch(d){return!1}}},{key:"loadToolbar",value:function(d){var m=this;if(window._postHogToolbarLoaded)return!1;window._postHogToolbarLoaded=!0;var y=this.instance.config.api_host,w=3e5*Math.floor(Date.now()/3e5),k="".concat(y).concat(y.endsWith("/")?"":"/","static/toolbar.js?t=").concat(w),S=!eZ.includes(this.instance.config.api_host)&&this.instance.config.advanced_disable_toolbar_metrics,x=t(t({token:this.instance.config.token},d),{},{apiURL:y},S?{instrument:!1}:{});x.source;var E=function(d,m){if(null==d)return{};var y,w,k=function(d,m){if(null==d)return{};var y,w,k={},S=Object.keys(d);for(w=0;w<S.length;w++)y=S[w],m.indexOf(y)>=0||(k[y]=d[y]);return k}(d,m);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(d);for(w=0;w<S.length;w++)y=S[w],m.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(d,y)&&(k[y]=d[y])}return k}(x,eK);return window.localStorage.setItem("_postHogToolbarParams",JSON.stringify(E)),oe(k,function(d){d?X.error("Failed to load toolbar",d):(window.ph_load_toolbar||window.ph_load_editor)(x,m.instance)}),er(window,"turbolinks:load",function(){window._postHogToolbarLoaded=!1,m.loadToolbar(x)}),!0}},{key:"_loadEditor",value:function(d){return this.loadToolbar(d)}},{key:"maybeLoadEditor",value:function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.history;return this.maybeLoadToolbar(d,m,y)}}]),e}();function Ft(d,m){At(!0,d,m)}function Pt(d,m){At(!1,d,m)}function Ot(d,m){return"1"===Mt(d,m)}function It(d,m){return!!function(d){if(d&&d.respectDnt){var m=d&&d.window||I,y=m.navigator||{},w=!1;return D([y.doNotTrack,y.msDoNotTrack,m.doNotTrack],function(d){H([!0,1,"1","yes"],d)&&(w=!0)}),w}return!1}(m)||"0"===Mt(d,m)}function $t(d,m){Rt(m=m||{}).remove(Tt(d,m),!!m.crossSubdomainCookie)}function Rt(d){return"localStorage"===(d=d||{}).persistenceType?eA:"localStorage+cookie"===d.persistenceType?ej:e$}function Tt(d,m){return((m=m||{}).persistencePrefix||"__ph_opt_in_out_")+d}function Mt(d,m){return Rt(m).get(Tt(d,m))}function At(d,m,y){var w;V(m)&&m.length?(Rt(y=y||{}).set(Tt(m,y),d?1:0,(w=y.cookieExpiration,"[object Number]"==P.call(w))?y.cookieExpiration:null,y.crossSubdomainCookie,y.secureCookie),y.capture&&d&&y.capture(y.captureEventName||"$opt_in",y.captureProperties||{},{send_instantly:!0})):X.error("gdpr."+(d?"optIn":"optOut")+" called with an invalid token")}var e1=function(){function e(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;r(this,e),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=d}return o(e,[{key:"setPollInterval",value:function(d){this._pollInterval=d,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return(new Date).getTime()}}]),e}(),e2=function(d){a(i,e1);var m=f(i);function i(d){var y,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return r(this,i),(y=m.call(this,w)).handlePollRequest=d,y}return o(i,[{key:"enqueue",value:function(d,m,y){this._event_queue.push({url:d,data:m,options:y}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var d=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(d._event_queue.length>0){var m=d.formatQueue();for(var y in m)(function(y){var w=m[y],k=w.url,S=w.data,x=w.options;D(S,function(m,y){S[y].offset=Math.abs(S[y].timestamp-d.getTime()),delete S[y].timestamp}),d.handlePollRequest(k,S,x)})(y);d._event_queue.length=0,d._empty_queue_count=0}else d._empty_queue_count++;d._empty_queue_count>4&&(d.isPolling=!1,d._empty_queue_count=0),d.isPolling&&d.poll()},this._pollInterval)}},{key:"unload",value:function(){var d=this;clearTimeout(this._poller);var m=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var y=Object.values(m);[].concat(h(y.filter(function(d){return 0===d.url.indexOf("/e")})),h(y.filter(function(d){return 0!==d.url.indexOf("/e")}))).map(function(m){var y=m.url,w=m.data,k=m.options;d.handlePollRequest(y,w,t(t({},k),{},{transport:"sendBeacon"}))})}},{key:"formatQueue",value:function(){var d={};return D(this._event_queue,function(m){var y=m.url,w=m.data,k=m.options,S=(k?k._batchKey:null)||y;void 0===d[S]&&(d[S]={data:[],url:y,options:k}),k&&d[S].options&&d[S].options._metrics&&!d[S].options._metrics.rrweb_full_snapshot&&(d[S].options._metrics.rrweb_full_snapshot=k._metrics.rrweb_full_snapshot),d[S].data.push(w)}),d}}]),i}(),e3=Uint8Array,e5=Uint16Array,e8=Uint32Array,e6=new e3([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e4=new e3([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e7=new e3([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ut=function(d,m){for(var y=new e5(31),w=0;w<31;++w)y[w]=m+=1<<d[w-1];var k=new e8(y[30]);for(w=1;w<30;++w)for(var S=y[w];S<y[w+1];++S)k[S]=S-y[w]<<5|w;return[y,k]},e9=Ut(e6,2),tt=e9[0],tn=e9[1];tt[28]=258,tn[258]=28;for(var tr=Ut(e4,0)[1],ti=new e5(32768),to=0;to<32768;++to){var ts=(43690&to)>>>1|(21845&to)<<1;ts=(61680&(ts=(52428&ts)>>>2|(13107&ts)<<2))>>>4|(3855&ts)<<4,ti[to]=((65280&ts)>>>8|(255&ts)<<8)>>>1}var Xt=function(d,m,y){for(var w=d.length,k=0,S=new e5(m);k<w;++k)++S[d[k]-1];var x,E=new e5(m);for(k=0;k<m;++k)E[k]=E[k-1]+S[k-1]<<1;if(y){x=new e5(1<<m);var F=15-m;for(k=0;k<w;++k)if(d[k])for(var P=k<<4|d[k],O=m-d[k],I=E[d[k]-1]++<<O,R=I|(1<<O)-1;I<=R;++I)x[ti[I]>>>F]=P}else for(x=new e5(w),k=0;k<w;++k)x[k]=ti[E[d[k]-1]++]>>>15-d[k];return x},ta=new e3(288);for(to=0;to<144;++to)ta[to]=8;for(to=144;to<256;++to)ta[to]=9;for(to=256;to<280;++to)ta[to]=7;for(to=280;to<288;++to)ta[to]=8;var tu=new e3(32);for(to=0;to<32;++to)tu[to]=5;var tc,tl,td=Xt(ta,9,0),tf=Xt(tu,5,0),rn=function(d){return(d/8>>0)+(7&d&&1)},on=function(d,m,y){(null==m||m<0)&&(m=0),(null==y||y>d.length)&&(y=d.length);var w=new(d instanceof e5?e5:d instanceof e8?e8:e3)(y-m);return w.set(d.subarray(m,y)),w},sn=function(d,m,y){y<<=7&m;var w=m/8>>0;d[w]|=y,d[w+1]|=y>>>8},an=function(d,m,y){y<<=7&m;var w=m/8>>0;d[w]|=y,d[w+1]|=y>>>8,d[w+2]|=y>>>16},un=function(d,m){for(var y=[],w=0;w<d.length;++w)d[w]&&y.push({s:w,f:d[w]});var k=y.length,S=y.slice();if(!k)return[new e3(0),0];if(1==k){var x=new e3(y[0].s+1);return x[y[0].s]=1,[x,1]}y.sort(function(d,m){return d.f-m.f}),y.push({s:-1,f:25001});var E=y[0],F=y[1],P=0,O=1,I=2;for(y[0]={s:-1,f:E.f+F.f,l:E,r:F};O!=k-1;)E=y[y[P].f<y[I].f?P++:I++],F=y[P!=O&&y[P].f<y[I].f?P++:I++],y[O++]={s:-1,f:E.f+F.f,l:E,r:F};var R=S[0].s;for(w=1;w<k;++w)S[w].s>R&&(R=S[w].s);var T=new e5(R+1),$=cn(y[O-1],T,0);if($>m){w=0;var M=0,N=$-m,z=1<<N;for(S.sort(function(d,m){return T[m.s]-T[d.s]||d.f-m.f});w<k;++w){var W=S[w].s;if(!(T[W]>m))break;M+=z-(1<<$-T[W]),T[W]=m}for(M>>>=N;M>0;){var J=S[w].s;T[J]<m?M-=1<<m-T[J]++-1:++w}for(;w>=0&&M;--w){var X=S[w].s;T[X]==m&&(--T[X],++M)}$=m}return[new e3(T),$]},cn=function e(d,m,y){return -1==d.s?Math.max(e(d.l,m,y+1),e(d.r,m,y+1)):m[d.s]=y},ln=function(d){for(var m=d.length;m&&!d[--m];);for(var y=new e5(++m),w=0,k=d[0],S=1,s=function(d){y[w++]=d},x=1;x<=m;++x)if(d[x]==k&&x!=m)++S;else{if(!k&&S>2){for(;S>138;S-=138)s(32754);S>2&&(s(S>10?S-11<<5|28690:S-3<<5|12305),S=0)}else if(S>3){for(s(k),--S;S>6;S-=6)s(8304);S>2&&(s(S-3<<5|8208),S=0)}for(;S--;)s(k);S=1,k=d[x]}return[y.subarray(0,w),m]},dn=function(d,m){for(var y=0,w=0;w<m.length;++w)y+=d[w]*m[w];return y},fn=function(d,m,y){var w=y.length,k=rn(m+2);d[k]=255&w,d[k+1]=w>>>8,d[k+2]=255^d[k],d[k+3]=255^d[k+1];for(var S=0;S<w;++S)d[k+S+4]=y[S];return 8*(k+4+w)},pn=function(d,m,y,w,k,S,x,E,F,P,O){sn(m,O++,y),++k[256];for(var I=un(k,15),R=I[0],T=I[1],$=un(S,15),M=$[0],N=$[1],z=ln(R),W=z[0],J=z[1],X=ln(M),ee=X[0],et=X[1],en=new e5(19),er=0;er<W.length;++er)en[31&W[er]]++;for(er=0;er<ee.length;++er)en[31&ee[er]]++;for(var ei=un(en,7),eo=ei[0],es=ei[1],ea=19;ea>4&&!eo[e7[ea-1]];--ea);var eu,ec,el,ed,ef=P+5<<3,ep=dn(k,ta)+dn(S,tu)+x,eh=dn(k,R)+dn(S,M)+x+14+3*ea+dn(en,eo)+(2*en[16]+3*en[17]+7*en[18]);if(ef<=ep&&ef<=eh)return fn(m,O,d.subarray(F,F+P));if(sn(m,O,1+(eh<ep)),O+=2,eh<ep){eu=Xt(R,T,0),ec=R,el=Xt(M,N,0),ed=M;var e_=Xt(eo,es,0);for(sn(m,O,J-257),sn(m,O+5,et-1),sn(m,O+10,ea-4),O+=14,er=0;er<ea;++er)sn(m,O+3*er,eo[e7[er]]);O+=3*ea;for(var eg=[W,ee],ev=0;ev<2;++ev){var em=eg[ev];for(er=0;er<em.length;++er){var ey=31&em[er];sn(m,O,e_[ey]),O+=eo[ey],ey>15&&(sn(m,O,em[er]>>>5&127),O+=em[er]>>>12)}}}else eu=td,ec=ta,el=tf,ed=tu;for(er=0;er<E;++er)if(w[er]>255){an(m,O,eu[(ey=w[er]>>>18&31)+257]),O+=ec[ey+257],ey>7&&(sn(m,O,w[er]>>>23&31),O+=e6[ey]);var eb=31&w[er];an(m,O,el[eb]),O+=ed[eb],eb>3&&(an(m,O,w[er]>>>5&8191),O+=e4[eb])}else an(m,O,eu[w[er]]),O+=ec[w[er]];return an(m,O,eu[256]),O+ec[256]},tp=new e8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),th=new e3(0),t_=function(){for(var d=new e8(256),m=0;m<256;++m){for(var y=m,w=9;--w;)y=(1&y&&3988292384)^y>>>1;d[m]=y}return d}(),vn=function(){var d=4294967295;return{p:function(m){for(var y=d,w=0;w<m.length;++w)y=t_[255&y^m[w]]^y>>>8;d=y},d:function(){return 4294967295^d}}},yn=function(d,m,y){for(;y;++m)d[m]=y,y>>>=8},bn=function(d,m){var y=m.filename;if(d[0]=31,d[1]=139,d[2]=8,d[8]=m.level<2?4:9==m.level?2:0,d[9]=3,0!=m.mtime&&yn(d,4,Math.floor(new Date(m.mtime||Date.now())/1e3)),y){d[3]=8;for(var w=0;w<=y.length;++w)d[w+10]=y.charCodeAt(w)}};(tb=tl||(tl={})).GZipJS="gzip-js",tb.Base64="base64";var xn=function(d,m,y){var w=m||{};w.ip=y.ip?1:0,w._=(new Date).getTime().toString(),w.ver=x.LIB_VERSION;var k=d.split("?");if(k.length>1){var S,E=v(k[1].split("&"));try{for(E.s();!(S=E.n()).done;){var F=S.value.split("=")[0];w[F]&&delete w[F]}}catch(d){E.e(d)}finally{E.f()}}var P=d.indexOf("?")>-1?"&":"?";return d+P+function(d){var m,y,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",k=[];return D(d,function(d,w){m=encodeURIComponent(d.toString()),y=encodeURIComponent(w),k[k.length]=y+"="+m}),k.join(w)}(w)},En=function e(d,m){if(m.blob&&d.buffer)return new Blob([d.buffer],{type:"text/plain"});if(m.sendBeacon||m.blob){var y,w=e(d,{method:"POST"});return new Blob([w],{type:"application/x-www-form-urlencoded"})}return"POST"!==m.method?null:(y=Array.isArray(d)||"[object Uint8Array]"===Object.prototype.toString.call(d)?"data="+encodeURIComponent(d):"data="+encodeURIComponent(d.data),"compression"in d&&d.compression&&(y+="&compression="+d.compression),y)},Fn=function(d){var m=d.url,y=d.data,w=d.headers,k=d.options,S=d.callback,x=d.retriesPerformedSoFar,E=d.retryQueue,F=d.onXHRError,P=d.timeout,O=d.onResponse,I=new XMLHttpRequest;I.open(k.method||"GET",m,!0);var R=En(y,k);D(w,function(d,m){I.setRequestHeader(m,d)}),"POST"!==k.method||k.blob||I.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),I.timeout=void 0===P?6e4:P,I.withCredentials=!0,I.onreadystatechange=function(){if(4===I.readyState){if(null==O||O(I),200===I.status){if(S){var d;try{d=JSON.parse(I.responseText)}catch(d){return void X.error(d)}S(d)}}else"function"==typeof F&&F(I),(I.status<400||I.status>500)&&E.enqueue({url:m,data:y,options:k,headers:w,retriesPerformedSoFar:(x||0)+1,callback:S}),null==S||S({status:0})}},I.send(R)},tg=function(d){a(i,e1);var m=f(i);function i(d,y){var w;return r(this,i),(w=m.call(this)).isPolling=!1,w.queue=[],w.areWeOnline=!0,w.onXHRError=d,w.rateLimiter=y,"undefined"!=typeof window&&"onLine"in window.navigator&&(w.areWeOnline=window.navigator.onLine,window.addEventListener("online",function(){w._handleWeAreNowOnline()}),window.addEventListener("offline",function(){w.areWeOnline=!1})),w}return o(i,[{key:"enqueue",value:function(d){var m=d.retriesPerformedSoFar||0;if(!(m>=10)){var y,w,k,S=(k=(Math.random()-.5)*((w=Math.min(18e5,y=3e3*Math.pow(2,m)))-y/2),Math.ceil(w+k)),x=new Date(Date.now()+S);this.queue.push({retryAt:x,requestData:d}),X.warn("Enqueued failed request for retry in ".concat(S)),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var d=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout(function(){d.areWeOnline&&d.queue.length>0&&d.flush(),d.poll()},this._pollInterval)}},{key:"flush",value:function(){var d=new Date(Date.now()),m=this.queue.filter(function(m){return m.retryAt<d});if(m.length>0){this.queue=this.queue.filter(function(m){return m.retryAt>=d});var y,w=v(m);try{for(w.s();!(y=w.n()).done;){var k=y.value.requestData;this._executeXhrRequest(k)}}catch(d){w.e(d)}finally{w.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var d,m=v(this.queue);try{for(m.s();!(d=m.n()).done;){var y=d.value.requestData,w=y.url,k=y.data,S=y.options;if(this.rateLimiter.isRateLimited(S._batchKey))X.warn("[RetryQueue] is quota limited. Dropping request.");else try{window.navigator.sendBeacon(w,En(k,t(t({},S),{},{sendBeacon:!0})))}catch(d){X.error(d)}}}catch(d){m.e(d)}finally{m.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(d){var m=d.url,y=d.data,w=d.options,k=d.headers,S=d.callback,x=d.retriesPerformedSoFar;this.rateLimiter.isRateLimited(w._batchKey)||Fn({url:m,data:y||{},options:w||{},headers:k||{},retriesPerformedSoFar:x||0,callback:S,retryQueue:this,onXHRError:this.onXHRError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),i}();/**
 * uuidv7: An experimental implementation of the proposed UUID Version 7
 *
 * @license Apache-2.0
 * @copyright 2021-2023 LiosK
 * @packageDocumentation
 *
 * from https://github.com/LiosK/uuidv7/blob/e501462ea3d23241de13192ceae726956f9b3b7d/src/index.ts
 */Math.trunc||(Math.trunc=function(d){return d<0?Math.ceil(d):Math.floor(d)}),Number.isInteger||(Number.isInteger=function(d){return"number"==typeof d&&isFinite(d)&&Math.floor(d)===d});var tv="0123456789abcdef",tm=function(){function e(d){if(r(this,e),this.bytes=d,16!==d.length)throw TypeError("not 128-bit length")}return o(e,[{key:"toString",value:function(){for(var d="",m=0;m<this.bytes.length;m++)d=d+tv.charAt(this.bytes[m]>>>4)+tv.charAt(15&this.bytes[m]),3!==m&&5!==m&&7!==m&&9!==m||(d+="-");if(36!==d.length)throw Error("Invalid UUIDv7 was generated");return d}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(d){return 0===this.compareTo(d)}},{key:"compareTo",value:function(d){for(var m=0;m<16;m++){var y=this.bytes[m]-d.bytes[m];if(0!==y)return Math.sign(y)}return 0}}],[{key:"fromFieldsV7",value:function(d,m,y,w){if(!Number.isInteger(d)||!Number.isInteger(m)||!Number.isInteger(y)||!Number.isInteger(w)||d<0||m<0||y<0||w<0||d>0xffffffffffff||m>4095||y>1073741823||w>4294967295)throw RangeError("invalid field value");var k=new Uint8Array(16);return k[0]=d/1099511627776,k[1]=d/4294967296,k[2]=d/16777216,k[3]=d/65536,k[4]=d/256,k[5]=d,k[6]=112|m>>>8,k[7]=m,k[8]=128|y>>>24,k[9]=y>>>16,k[10]=y>>>8,k[11]=y,k[12]=w>>>24,k[13]=w>>>16,k[14]=w>>>8,k[15]=w,new e(k)}}]),e}(),ty=function(){function e(){r(this,e),s(this,"timestamp",0),s(this,"counter",0),s(this,"random",new tk)}return o(e,[{key:"generate",value:function(){var d=this.generateOrAbort();if(void 0!==d)return d;this.timestamp=0;var m=this.generateOrAbort();if(void 0===m)throw Error("Could not generate UUID after timestamp reset");return m}},{key:"generateOrAbort",value:function(){var d=Date.now();if(d>this.timestamp)this.timestamp=d,this.resetCounter();else{if(!(d+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return tm.fromFieldsV7(this.timestamp,Math.trunc(this.counter/1073741824),1073741823&this.counter,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),Tn=function(d){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var m=0;m<d.length;m++)d[m]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return d};"undefined"!=typeof crypto&&crypto.getRandomValues&&(Tn=function(d){return crypto.getRandomValues(d)});var tb,tw,tk=function(){function e(){r(this,e),s(this,"buffer",new Uint32Array(8)),s(this,"cursor",1/0)}return o(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(Tn(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),Cn=function(){return Dn().toString()},Dn=function(){return(tw||(tw=new ty)).generate()},tS=function(){function e(d,m){r(this,e),s(this,"_sessionIdChangedHandlers",[]),this.config=d,this.persistence=m,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null;var y=d.persistence_name||d.token,w=d.session_idle_timeout_seconds||1800;if("number"!=typeof w?(X.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),w=1800):w>1800?X.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):w<60&&X.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."),this._sessionTimeoutMs=1e3*Math.min(Math.max(w,60),1800),this._window_id_storage_key="ph_"+y+"_window_id",this._primary_window_exists_storage_key="ph_"+y+"_primary_window_exists",this._canUseSessionStorage()){var k=eL.parse(this._window_id_storage_key),S=eL.parse(this._primary_window_exists_storage_key);k&&!S?this._windowId=k:eL.remove(this._window_id_storage_key),eL.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return o(e,[{key:"onSessionId",value:function(d){var m=this;return void 0===this._sessionIdChangedHandlers&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(d),this._sessionId&&d(this._sessionId,this._windowId),function(){m._sessionIdChangedHandlers=m._sessionIdChangedHandlers.filter(function(m){return m!==d})}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&eL.is_supported()}},{key:"_setWindowId",value:function(d){d!==this._windowId&&(this._windowId=d,this._canUseSessionStorage()&&eL.set(this._window_id_storage_key,d))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?eL.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(d,m,y){d===this._sessionId&&m===this._sessionActivityTimestamp&&y===this._sessionStartTimestamp||(this._sessionStartTimestamp=y,this._sessionActivityTimestamp=m,this._sessionId=d,this.persistence.register(s({},eh,[m,d,y])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var d=this.persistence.props[eh];return Array.isArray(d)&&2===d.length&&d.push(d[0]),d||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var d=this;window.addEventListener("beforeunload",function(){d._canUseSessionStorage()&&eL.remove(d._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var d=arguments.length>0&&void 0!==arguments[0]&&arguments[0],m=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),y=p(this._getSessionId(),3),w=y[0],k=y[1],S=y[2],x=this._getWindowId(),E=S&&S>0&&Math.abs(m-S)>864e5,F=!1;!k||!d&&Math.abs(m-w)>this._sessionTimeoutMs||E?(k=Cn(),x=Cn(),S=m,F=!0):x||(x=Cn(),F=!0);var P=0===w||!d||E?m:w,O=0===S?(new Date).getTime():S;return this._setWindowId(x),this._setSessionId(k,P,O),F&&this._sessionIdChangedHandlers.forEach(function(d){return d(k,x)}),{sessionId:k,windowId:x,sessionStartTimestamp:O}}}]),e}(),tx=o(function e(d,m,y,w){r(this,e),this.name="posthog-js",this.setupOnce=function(k){k(function(k){if("error"!==k.level||!d.__loaded)return k;k.tags||(k.tags={});var S,x,E,F,P,O=d.config.ui_host||d.config.api_host;k.tags["PostHog Person URL"]=O+"/person/"+d.get_distinct_id(),d.sessionRecordingStarted()&&(k.tags["PostHog Recording URL"]=d.get_session_replay_url({withTimestamp:!0}));var I=(null===(S=k.exception)||void 0===S?void 0:S.values)||[],R={$exception_message:null===(x=I[0])||void 0===x?void 0:x.value,$exception_type:null===(E=I[0])||void 0===E?void 0:E.type,$exception_personURL:O+"/person/"+d.get_distinct_id(),$sentry_event_id:k.event_id,$sentry_exception:k.exception,$sentry_exception_message:null===(F=I[0])||void 0===F?void 0:F.value,$sentry_exception_type:null===(P=I[0])||void 0===P?void 0:P.type,$sentry_tags:k.tags};return m&&y&&(R.$sentry_url=(w||"https://sentry.io/organizations/")+m+"/issues/?project="+y+"&query="+k.event_id),d.capture("$exception",R),k})}}),qn=function(d){Promise&&Promise.resolve||X.warn("This browser does not have Promise support, and can not use the segment integration");var t=function(m,y){m.event.userId||m.event.anonymousId===d.get_distinct_id()||d.reset(),m.event.userId&&m.event.userId!==d.get_distinct_id()&&(d.register({distinct_id:m.event.userId}),d.reloadFeatureFlags());var w=d._calculate_event_properties(y,m.event.properties);return m.event.properties=Object.assign({},w,m.event.properties),m};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(d){return t(d,d.event.event)},page:function(d){return t(d,"$pageview")},identify:function(d){return t(d,"$identify")},screen:function(d){return t(d,"$screen")}}},tE=function(){function e(){var d=this;r(this,e),s(this,"_hasSeenPageView",!1),s(this,"_updateScrollData",function(){d._pageViewData||(d._pageViewData=d._createPageViewData());var m,y,w,k,S=d._pageViewData,x=d._scrollY(),E=d._scrollHeight(),F=d._contentY(),P=d._contentHeight();S.lastScrollY=x,S.maxScrollY=Math.max(x,null!==(m=S.maxScrollY)&&void 0!==m?m:0),S.maxScrollHeight=Math.max(E,null!==(y=S.maxScrollHeight)&&void 0!==y?y:0),S.lastContentY=F,S.maxContentY=Math.max(F,null!==(w=S.maxContentY)&&void 0!==w?w:0),S.maxContentHeight=Math.max(P,null!==(k=S.maxContentHeight)&&void 0!==k?k:0)})}return o(e,[{key:"_createPageViewData",value:function(){return{pathname:I.location.pathname}}},{key:"doPageView",value:function(){var d,m;return this._hasSeenPageView?(m=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,m=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),t({$prev_pageview_pathname:null===(d=m)||void 0===d?void 0:d.pathname},this._calculatePrevPageScrollProperties(m))}},{key:"doPageLeave",value:function(){var d=this._pageViewData;return t({$prev_pageview_pathname:null==d?void 0:d.pathname},this._calculatePrevPageScrollProperties(d))}},{key:"_calculatePrevPageScrollProperties",value:function(d){if(!d||null==d.maxScrollHeight||null==d.lastScrollY||null==d.maxScrollY||null==d.maxContentHeight||null==d.lastContentY||null==d.maxContentY)return{};var m=d.maxScrollHeight,y=d.lastScrollY,w=d.maxScrollY,k=d.maxContentHeight,S=d.lastContentY,x=d.maxContentY;return m=Math.ceil(m),y=Math.ceil(y),w=Math.ceil(w),k=Math.ceil(k),S=Math.ceil(S),x=Math.ceil(x),{$prev_pageview_last_scroll:y,$prev_pageview_last_scroll_percentage:m<=1?1:Vn(y/m,0,1),$prev_pageview_max_scroll:w,$prev_pageview_max_scroll_percentage:m<=1?1:Vn(w/m,0,1),$prev_pageview_last_content:S,$prev_pageview_last_content_percentage:k<=1?1:Vn(S/k,0,1),$prev_pageview_max_content:x,$prev_pageview_max_content_percentage:k<=1?1:Vn(x/k,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){I.addEventListener("scroll",this._updateScrollData),I.addEventListener("scrollend",this._updateScrollData),I.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){I.removeEventListener("scroll",this._updateScrollData),I.removeEventListener("scrollend",this._updateScrollData),I.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollHeight",value:function(){return Math.max(0,I.document.documentElement.scrollHeight-I.document.documentElement.clientHeight)}},{key:"_scrollY",value:function(){return I.scrollY||I.pageYOffset||I.document.documentElement.scrollTop||0}},{key:"_contentHeight",value:function(){return I.document.documentElement.scrollHeight||0}},{key:"_contentY",value:function(){var d=I.document.documentElement.clientHeight||0;return this._scrollY()+d}}]),e}();function Vn(d,m,y){return Math.max(m,Math.min(d,y))}function zn(d){return"undefined"!=typeof Event&&Wn(d,Event)}function Wn(d,m){try{return d instanceof m}catch(d){return!1}}function Gn(d){return null===d||"object"!==n(d)&&"function"!=typeof d}function Yn(d,m){return Object.prototype.toString.call(d)==="[object ".concat(m,"]")}function Qn(d){return Yn(d,"DOMError")}var tF=/\(error: (.*)\)/;function Zn(d,m,y,w){var k={filename:d,function:m,in_app:!0};return void 0!==y&&(k.lineno=y),void 0!==w&&(k.colno=w),k}var tP=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tO=/\((\S*)(?::(\d+))(?::(\d+))\)/,tI=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tR=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tT=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,t$=(function(){for(var d=arguments.length,m=Array(d),y=0;y<d;y++)m[y]=arguments[y];var w=m.sort(function(d,m){return d[0]-m[0]}).map(function(d){return d[1]});return function(d){for(var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=[],k=d.split("\n"),S=m;S<k.length;S++){var x=k[S];if(!(x.length>1024)){var E=tF.test(x)?x.replace(tF,"$1"):x;if(!E.match(/\S*Error: /)){var F,P=v(w);try{for(P.s();!(F=P.n()).done;){var O=(0,F.value)(E);if(O){y.push(O);break}}}catch(d){P.e(d)}finally{P.f()}if(y.length>=50)break}}}return function(d){if(!d.length)return[];var m=d.slice(0,50);return m.reverse(),m.map(function(d){return t(t({},d),{},{filename:d.filename||m[m.length-1].filename,function:d.function||"?"})})}(y)}}).apply(void 0,[[30,function(d){var m=tP.exec(d);if(m){if(m[2]&&0===m[2].indexOf("eval")){var y=tO.exec(m[2]);y&&(m[2]=y[1],m[3]=y[2],m[4]=y[3])}var w=p(sr(m[1]||"?",m[2]),2),k=w[0];return Zn(w[1],k,m[3]?+m[3]:void 0,m[4]?+m[4]:void 0)}}],[50,function(d){var m=tI.exec(d);if(m){if(m[3]&&m[3].indexOf(" > eval")>-1){var y=tR.exec(m[3]);y&&(m[1]=m[1]||"eval",m[3]=y[1],m[4]=y[2],m[5]="")}var w=m[3],k=m[1]||"?",S=p(sr(k,w),2);return k=S[0],Zn(w=S[1],k,m[4]?+m[4]:void 0,m[5]?+m[5]:void 0)}}],[40,function(d){var m=tT.exec(d);return m?Zn(m[2],m[1]||"?",+m[3],m[4]?+m[4]:void 0):void 0}]]),sr=function(d,m){var y=-1!==d.indexOf("safari-extension"),w=-1!==d.indexOf("safari-web-extension");return y||w?[-1!==d.indexOf("@")?d.split("@")[0]:"?",y?"safari-extension:".concat(m):"safari-web-extension:".concat(m)]:[d,m]},tC=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,tA=/Minified React error #\d+;/i;function lr(d){var m=function(d){var m=d.stacktrace||d.stack||"",y=function(d){if(d){if("number"==typeof d.framesToPop)return d.framesToPop;if(tA.test(d.message))return 1}return 0}(d);try{return t$(m,y)}catch(d){}return[]}(d);return{$exception_type:d.name,$exception_message:d.message,$exception_stack_trace_raw:JSON.stringify(m)}}function fr(d){var m=p(d,5),y=m[0],w=m[1],k=m[2],S=m[3],x=m[4],E={};if(void 0===x&&"string"==typeof y){var F="Error",P=y,O=y.match(tC);O&&(F=O[1],P=O[2]),E={$exception_type:F,$exception_message:P}}var I=x||y;if(Qn(I)||Yn(I,"DOMException")){if("stack"in I)E=lr(I);else{var R=I.name||(Qn(I)?"DOMError":"DOMException"),T=I.message?"".concat(R,": ").concat(I.message):R;(E={$exception_type:"Error",$exception_message:T}).$exception_type=Qn(I)?"DOMError":"DOMException",E.$exception_message=E.$exception_message||T}"code"in I&&(E.$exception_DOMException_code="".concat(I.code))}else Yn(I,"ErrorEvent")&&I.error?E=lr(I.error):function(d){switch(Object.prototype.toString.call(d)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Wn(d,Error)}}(I)?E=lr(I):Yn(I,"Object")||zn(I)?(E={$exception_type:zn(I)?I.constructor.name:"Error",$exception_message:"Non-Error ".concat("exception"," captured with keys: ",function(d){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,y=Object.keys(d);if(y.sort(),!y.length)return"[object has no keys]";for(var w=y.length;w>0;w--){var k=y.slice(0,w).join(", ");if(!(k.length>m))return w===y.length||k.length<=m?k:"".concat(k.slice(0,m),"...")}return""}(I))}).$exception_is_synthetic=!0:(E.$exception_type=E.$exception_type||"Error",E.$exception_message=E.$exception_message||I,E.$exception_is_synthetic=!0);return t(t(t(t({},E),{},{$exception_type:E.$exception_type||"UnknownErrorType",$exception_message:E.$exception_message||""},w?{$exception_source:w}:{}),k?{$exception_lineno:k}:{}),S?{$exception_colno:S}:{})}var tD,tj,tM,tH=function(){function e(d){r(this,e),s(this,"originalOnErrorHandler",void 0),s(this,"originalOnUnhandledRejectionHandler",void 0),s(this,"errorsToIgnore",[]),this.instance=d}return o(e,[{key:"debugLog",value:function(){for(var d=arguments.length,m=Array(d),y=0;y<d;y++)m[y]=arguments[y];X.info.apply(X,["[ExceptionObserver]"].concat(m))}},{key:"startCapturing",value:function(){var d;if(this.isEnabled()&&(null===(d=I.onerror)||void 0===d||!d.__POSTHOG_INSTRUMENTED__))try{this.originalOnErrorHandler=I.onerror,I.onerror=(function(){for(var d=arguments.length,m=Array(d),y=0;y<d;y++)m[y]=arguments[y];return this.captureException(m),!!this.originalOnErrorHandler&&this.originalOnErrorHandler.apply(this,m)}).bind(this),I.onerror.__POSTHOG_INSTRUMENTED__=!0,this.originalOnUnhandledRejectionHandler=I.onunhandledrejection,I.onunhandledrejection=(function(){for(var d=arguments.length,m=Array(d),y=0;y<d;y++)m[y]=arguments[y];var w=function(d){var m=p(d,1)[0],y=m;try{"reason"in m?y=m.reason:"detail"in m&&"reason"in m.detail&&(y=m.detail.reason)}catch(d){}var w={};return(w=Gn(y)?{$exception_message:"Non-Error promise rejection captured with value: ".concat(String(y))}:fr([y])).$exception_handled=!1,t(t({},w),{},{$exception_type:w.$exception_type="UnhandledRejection",$exception_message:w.$exception_message=w.$exception_message||m.reason||String(y)})}(m);return this.sendExceptionEvent(w),!this.originalOnUnhandledRejectionHandler||this.originalOnUnhandledRejectionHandler.apply(I,m)}).bind(this),I.onunhandledrejection.__POSTHOG_INSTRUMENTED__=!0}catch(d){X.error("PostHog failed to start exception autocapture",d),this.stopCapturing()}}},{key:"stopCapturing",value:function(){var d,m;void 0!==this.originalOnErrorHandler&&(I.onerror=this.originalOnErrorHandler,this.originalOnErrorHandler=null),null===(d=I.onerror)||void 0===d||delete d.__POSTHOG_INSTRUMENTED__,void 0!==this.originalOnUnhandledRejectionHandler&&(I.onunhandledrejection=this.originalOnUnhandledRejectionHandler,this.originalOnUnhandledRejectionHandler=null),null===(m=I.onunhandledrejection)||void 0===m||delete m.__POSTHOG_INSTRUMENTED__}},{key:"isCapturing",value:function(){var d;return!(null===(d=I.onerror)||void 0===d||!d.__POSTHOG_INSTRUMENTED__)}},{key:"isEnabled",value:function(){var d;return null!==(d=this.remoteEnabled)&&void 0!==d&&d}},{key:"afterDecideResponse",value:function(d){var m=d.autocaptureExceptions;if(this.remoteEnabled=!!m,!Gn(m)&&"errors_to_ignore"in m&&Array.isArray(m.errors_to_ignore)){var y=m.errors_to_ignore;this.errorsToIgnore=y.map(function(d){return new RegExp(d)})}this.isEnabled()?(this.startCapturing(),this.debugLog("Remote config for exception autocapture is enabled, starting",m)):this.debugLog("Remote config for exception autocapture is disabled, not starting",m)}},{key:"captureException",value:function(d,m){var y=fr(d);if(this.errorsToIgnore.some(function(d){return d.test(y.$exception_message||"")}))this.debugLog("Ignoring exception based on remote config",y);else{var w=t(t({},m),y),k=this.instance.config.ui_host||this.instance.config.api_host;y.$exception_personURL=k+"/person/"+this.instance.get_distinct_id(),this.sendExceptionEvent(w)}}},{key:"sendExceptionEvent",value:function(d){this.instance.capture("$exception",d,{transport:"XHR",method:"POST",endpoint:"/e/",_noTruncate:!0,_batchKey:"exceptionEvent"})}}]),e}(),tN={icontains:function(d){return window.location.href.toLowerCase().indexOf(d.toLowerCase())>-1},regex:function(d){var m;return m=window.location.href,!!function(d){try{new RegExp(d)}catch(d){return!1}return!0}(d)&&new RegExp(d).test(m)},exact:function(d){return window.location.href===d}},tL=function(){function e(d){r(this,e),this.instance=d}return o(e,[{key:"getSurveys",value:function(d){var m=this,y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],w=this.instance.get_property(ey);if(w&&!y)return d(w);this.instance._send_request("".concat(this.instance.config.api_host,"/api/surveys/?token=").concat(this.instance.config.token),{},{method:"GET"},function(y){var w,k=y.surveys||[];return null===(w=m.instance.persistence)||void 0===w||w.register(s({},ey,k)),d(k)})}},{key:"getActiveMatchingSurveys",value:function(d){var m=this,y=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys(function(y){return d(y.filter(function(d){return!(!d.start_date||d.end_date)}).filter(function(d){if(!d.conditions)return!0;var m,y,w,k,S=null===(m=d.conditions)||void 0===m||!m.url||tN[null!==(y=null===(w=d.conditions)||void 0===w?void 0:w.urlMatchType)&&void 0!==y?y:"icontains"](d.conditions.url),x=null===(k=d.conditions)||void 0===k||!k.selector||document.querySelector(d.conditions.selector);return S&&x}).filter(function(d){if(!d.linked_flag_key&&!d.targeting_flag_key)return!0;var y=!d.linked_flag_key||m.instance.featureFlags.isFeatureEnabled(d.linked_flag_key),w=!d.targeting_flag_key||m.instance.featureFlags.isFeatureEnabled(d.targeting_flag_key);return y&&w}))},y)}}]),e}(),tB=function(){function e(){var d=this;r(this,e),s(this,"limits",{}),s(this,"checkForLimiting",function(m){try{(JSON.parse(m.responseText).quota_limited||[]).forEach(function(m){X.info("[RateLimiter] ".concat(m||"events"," is quota limited.")),d.limits[m]=(new Date).getTime()+6e4})}catch(d){return void X.error(d)}})}return o(e,[{key:"isRateLimited",value:function(d){var m=this.limits[d||"events"]||!1;return!1!==m&&(new Date).getTime()<m}}]),e}();(w=tD||(tD={}))[w.INIT_MODULE=0]="INIT_MODULE",w[w.INIT_SNIPPET=1]="INIT_SNIPPET";var wr=function(){},tq={},tU="posthog",tV=I.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,tz=!tV&&-1===$.indexOf("MSIE")&&-1===$.indexOf("Mozilla"),Fr=function(){var d,m,y;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:-1===(null==T||null===(d=T.location)||void 0===d||null===(m=d.hostname)||void 0===m?void 0:m.indexOf("herokuapp.com")),persistence:"cookie",persistence_name:"",cookie_name:"",loaded:wr,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==I||null===(y=I.location)||void 0===y?void 0:y.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(d){var m="Bad HTTP status: "+d.status+" "+d.statusText;X.error(m)},get_device_id:function(d){return d},_onCapture:wr,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},Pr=function(d,m,y,w){var k,S=y!==tU&&tM?y?tM[y]:void 0:tM,E={initComplete:!1,syncCode:!1},a=function(d){return function(m){E[d]||(E[d]=!0,E.initComplete&&E.syncCode&&(null==w||w(m)))}};if(S&&tj===tD.INIT_MODULE)k=S;else{if(S&&!ee(S))return void X.error("You have already initialized "+y);k=new tG}return k._init(d,m,y,a("initComplete")),k.toolbar.maybeLoadToolbar(),k.sessionRecording=new eG(k),k.sessionRecording.startRecordingIfEnabled(),k.webPerformance=new eJ(k),k.webPerformance.startObservingIfEnabled(),k.config.__preview_measure_pageview_stats&&k.pageViewManager.startMeasuringScrollPosition(),k.exceptionAutocapture=new tH(k),k.__autocapture=k.config.autocapture,ex._setIsAutocaptureEnabled(k),ex._isAutocaptureEnabled&&(k.__autocapture=k.config.autocapture,ex.enabledForProject(k.config.token,100,100)?ex.isBrowserSupported()?ex.init(k):(k.__autocapture=!1,X.info("Disabling Automatic Event Collection because this browser is not supported")):(k.__autocapture=!1,X.info("Not in active bucket: disabling Automatic Event Collection."))),x.DEBUG=x.DEBUG||k.config.debug,void 0!==S&&ee(S)&&(k._execute_array.call(k.people,S.people),k._execute_array(S)),a("syncCode")(k),k},tG=function(){function e(){var d=this;r(this,e),this.config=Fr(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=tx,this.segmentIntegration=function(){return qn(d)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.featureFlags=new eR(this),this.toolbar=new e0(this),this.pageViewManager=new tE,this.surveys=new tL(this),this.rateLimiter=new tB,this.people={set:function(m,y,w){var k="string"==typeof m?s({},m,y):m;d.setPersonProperties(k),null==w||w({})},set_once:function(m,y,w){var k="string"==typeof m?s({},m,y):m;d.setPersonProperties(void 0,k),null==w||w({})}}}return o(e,[{key:"init",value:function(d,m,y){if(U(y))X.critical("You must name your new library: init(token, config, name)");else{if(y!==tU){var w=Pr(d,m,y,function(d){tM[y]=d,d._loaded()});return tM[y]=w,w}X.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(d){var m,y,w=this,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=arguments.length>2?arguments[2]:void 0,x=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var E,F={segmentRegister:!1,syncCode:!1},l=function(d){return function(){F[d]||(F[d]=!0,F.segmentRegister&&F.syncCode&&(null==x||x(w)))}};if(this.set_config(j({},Fr(),k,{name:S,token:d,callback_fn:(S===tU?S:tU+"."+S)+"._jsc"})),this._jsc=function(){},(null!=I&&null!==(m=I.rrweb)&&void 0!==m&&m.record||null!=I&&I.rrwebRecord)&&(this.__loaded_recorder_version=null==I||null===(E=I.rrweb)||void 0===E?void 0:E.version),this.persistence=new eq(this.config),this._requestQueue=new e2(this._handle_queued_event.bind(this)),this._retryQueue=new tg(this.config.on_xhr_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new tS(this.config,this.persistence),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new eq(t(t({},this.config),{},{persistence:"sessionStorage"})),this._gdpr_init(),k.segment?(this.config.get_device_id=function(){return k.segment.user().anonymousId()},k.segment.user().id()&&(this.register({distinct_id:k.segment.user().id()}),this.persistence.set_user_state("identified")),k.segment.register(this.segmentIntegration()).then(l("segmentRegister"))):l("segmentRegister")(),void 0!==(null===(y=k.bootstrap)||void 0===y?void 0:y.distinctID)){var P,O,R=this.config.get_device_id(Cn()),T=null!==(P=k.bootstrap)&&void 0!==P&&P.isIdentifiedID?R:k.bootstrap.distinctID;this.persistence.set_user_state(null!==(O=k.bootstrap)&&void 0!==O&&O.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:k.bootstrap.distinctID,$device_id:T})}if(this._hasBootstrappedFeatureFlags()){var $,M,N=Object.keys((null===($=k.bootstrap)||void 0===$?void 0:$.featureFlags)||{}).filter(function(d){var m,y;return!(null===(m=k.bootstrap)||void 0===m||null===(y=m.featureFlags)||void 0===y||!y[d])}).reduce(function(d,m){var y,w;return d[m]=(null===(y=k.bootstrap)||void 0===y||null===(w=y.featureFlags)||void 0===w?void 0:w[m])||!1,d},{}),z=Object.keys((null===(M=k.bootstrap)||void 0===M?void 0:M.featureFlagPayloads)||{}).filter(function(d){return N[d]}).reduce(function(d,m){var y,w,S,x;return null!==(y=k.bootstrap)&&void 0!==y&&null!==(w=y.featureFlagPayloads)&&void 0!==w&&w[m]&&(d[m]=null===(S=k.bootstrap)||void 0===S||null===(x=S.featureFlagPayloads)||void 0===x?void 0:x[m]),d},{});this.featureFlags.receivedFeatureFlags({featureFlags:N,featureFlagPayloads:z})}if(!this.get_distinct_id()){var W=this.config.get_device_id(Cn());this.register_once({distinct_id:W,$device_id:W},""),this.persistence.set_user_state("anonymous")}I.addEventListener&&I.addEventListener("onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),l("syncCode")()}},{key:"_loaded",value:function(){var d=this.config.advanced_disable_decide;d||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(d){X.critical("`loaded` function failed",d)}this._start_queue_if_opted_in(),this.config.capture_pageview&&this.capture("$pageview",{title:T.title},{send_instantly:!0}),d||(new eX(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var d;this.has_opted_out_capturing()||this.config.request_batching&&(null===(d=this._requestQueue)||void 0===d||d.poll())}},{key:"_dom_loaded",value:function(){var d=this;this.has_opted_out_capturing()||C(this.__request_queue,function(m){d._send_request.apply(d,h(m))}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(d,m){if(U(d))return null;if(tV)return function(y){d(y,m)};var y=this._jsc,w=""+Math.floor(1e8*Math.random()),k=this.config.callback_fn+"["+w+"]";return y[w]=function(k){delete y[w],d(k,m)},k}},{key:"_handle_unload",value:function(){var d,m;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),null===(d=this._requestQueue)||void 0===d||d.unload(),null===(m=this._retryQueue)||void 0===m||m.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(d,m,y){var w=JSON.stringify(m);this.__compress_and_send_json_request(d,w,y||tq,wr)}},{key:"__compress_and_send_json_request",value:function(d,m,y,w){var k,S,x,E,F,P,O,I=p((this.compression[tl.GZipJS]?tl.GZipJS:tl.Base64)===tl.GZipJS?[(k=function(d,m){var y=d.length;if(!m&&"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(d);for(var w=new e3(d.length+(d.length>>>1)),k=0,o=function(d){w[k++]=d},S=0;S<y;++S){if(k+5>w.length){var x=new e3(k+8+(y-S<<1));x.set(w),w=x}var E=d.charCodeAt(S);E<128||m?o(E):(E<2048?o(192|E>>>6):(E>55295&&E<57344?(o(240|(E=65536+(1047552&E)|1023&d.charCodeAt(++S))>>>18),o(128|E>>>12&63)):o(224|E>>>12),o(128|E>>>6&63)),o(128|63&E))}return on(w,0,k)}(m),S={mtime:0},x=vn(),E=k.length,x.p(k),O=(F=10+(S.filename&&S.filename.length+1||0),P=function(d,m,y,w,k,S){var x=d.length,E=new e3(w+x+5*(1+Math.floor(x/7e3))+k),F=E.subarray(w,E.length-k),P=0;if(!m||x<8)for(var O=0;O<=x;O+=65535){var I=O+65535;I<x?P=fn(F,P,d.subarray(O,I)):(F[O]=S,P=fn(F,P,d.subarray(O,x)))}else{for(var R=tp[m-1],T=R>>>13,$=8191&R,M=(1<<y)-1,N=new e5(32768),z=new e5(M+1),W=Math.ceil(y/3),J=2*W,b=function(m){return(d[m]^d[m+1]<<W^d[m+2]<<J)&M},X=new e8(25e3),ee=new e5(288),et=new e5(32),en=0,er=0,ei=(O=0,0),eo=0,es=0;O<x;++O){var ea=b(O),eu=32767&O,ec=z[ea];if(N[eu]=ec,z[ea]=eu,eo<=O){var el=x-O;if((en>7e3||ei>24576)&&el>423){P=pn(d,F,0,X,ee,et,er,ei,es,O-es,P),ei=en=er=0,es=O;for(var ed=0;ed<286;++ed)ee[ed]=0;for(ed=0;ed<30;++ed)et[ed]=0}var ef=2,ep=0,eh=$,e_=eu-ec&32767;if(el>2&&ea==b(O-e_))for(var eg=Math.min(T,el)-1,ev=Math.min(32767,O),em=Math.min(258,el);e_<=ev&&--eh&&eu!=ec;){if(d[O+ef]==d[O+ef-e_]){for(var ey=0;ey<em&&d[O+ey]==d[O+ey-e_];++ey);if(ey>ef){if(ef=ey,ep=e_,ey>eg)break;var eb=Math.min(e_,ey-2),ew=0;for(ed=0;ed<eb;++ed){var ek=O-e_+ed+32768&32767,eS=ek-N[ek]+32768&32767;eS>ew&&(ew=eS,ec=ek)}}}e_+=(eu=ec)-(ec=N[eu])+32768&32767}if(ep){X[ei++]=268435456|tn[ef]<<18|tr[ep];var ex=31&tn[ef],eE=31&tr[ep];er+=e6[ex]+e4[eE],++ee[257+ex],++et[eE],eo=O+ef,++en}else X[ei++]=d[O],++ee[d[O]]}}P=pn(d,F,S,X,ee,et,er,ei,es,O-es,P),S||(P=fn(F,P,th))}return on(E,0,w+rn(P)+k)}(k,null==S.level?6:S.level,null==S.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(k.length)))):12+S.mem,F,8,!0)).length,bn(P,S),yn(P,O-8,x.d()),yn(P,O-4,E),P),t(t({},y),{},{blob:!0,urlQueryArgs:{compression:tl.GZipJS}})]:[{data:K(m)},y],2),R=I[0],T=I[1];this._send_request(d,R,T,w)}},{key:"_send_request",value:function(d,m,y,w){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(y._batchKey)){if(tz)this.__request_queue.push([d,m,y,w]);else{y=j({method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose},y||{}),tV||(y.method="GET");var k="sendBeacon"in I.navigator&&"sendBeacon"===y.transport;if(d=xn(d,y.urlQueryArgs||{},{ip:this.config.ip}),k)try{I.navigator.sendBeacon(d,En(m,t(t({},y),{},{sendBeacon:!0})))}catch(d){}else if(tV)try{Fn({url:d,data:m,headers:this.config.xhr_headers,options:y,callback:w,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.config.on_xhr_error,onResponse:this.rateLimiter.checkForLimiting})}catch(d){X.error(d)}else{var S,x=T.createElement("script");x.type="text/javascript",x.async=!0,x.defer=!0,x.src=d;var E=T.getElementsByTagName("script")[0];null===(S=E.parentNode)||void 0===S||S.insertBefore(x,E)}}}}},{key:"_execute_array",value:function(d){var m,y=this,w=[],k=[],S=[];C(d,function(d){d&&(ee(m=d[0])?S.push(d):"function"==typeof d?d.call(y):ee(d)&&"alias"===m?w.push(d):ee(d)&&-1!==m.indexOf("capture")&&"function"==typeof y[m]?S.push(d):k.push(d))});var s=function(d,m){C(d,function(d){if(ee(d[0])){var y=m;D(d,function(d){y=y[d[0]].apply(y,d.slice(1))})}else this[d[0]].apply(this,d.slice(1))},m)};s(w,this),s(k,this),s(S,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var d,m;return(null===(d=this.config.bootstrap)||void 0===d?void 0:d.featureFlags)&&Object.keys(null===(m=this.config.bootstrap)||void 0===m?void 0:m.featureFlags).length>0||!1}},{key:"push",value:function(d){this._execute_array([d])}},{key:"captureException",value:function(d,m){var y;null===(y=this.exceptionAutocapture)||void 0===y||y.captureException([d.name,void 0,void 0,void 0,d],m)}},{key:"capture",value:function(d,m){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tq;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return X.unintializedWarning("posthog.capture");if(!function(d){var m=!1;try{var y=d.config.token,w=d.config.respect_dnt,k=d.config.opt_out_capturing_persistence_type,S=d.config.opt_out_capturing_cookie_prefix||void 0,x=d.config.window;y&&(m=It(y,{respectDnt:w,persistenceType:k,persistencePrefix:S,window:x}))}catch(d){X.error("Unexpected error when checking capturing opt-out status: "+d)}return m}(this)){var w=(y=y||tq).transport;if(w&&(y.transport=w),U(d)||"string"!=typeof d)X.error("No event name provided to posthog.capture");else if(!te($,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var k,S,x,E,F={uuid:Cn(),event:d,properties:this._calculate_event_properties(d,m||{})};"$identify"===d&&(F.$set=y.$set,F.$set_once=y.$set_once),(k=F,S=y._noTruncate?null:this.config.properties_string_max_length,x=function(d,m){return m&&et.indexOf(m)>-1?d:"string"==typeof d&&null!==S?d.slice(0,S):d},E=new Set,F=function e(d,m){var y;return d!==Object(d)?x?x(d,m):d:E.has(d)?void 0:(E.add(d),ee(d)?(y=[],C(d,function(d){y.push(e(d))})):(y={},D(d,function(d,m){E.has(d)||(y[m]=e(d,m))})),y)}(k)).timestamp=y.timestamp||new Date;var P=t(t({},F.properties.$set),F.$set);q(P)||this.setPersonPropertiesForFlags(P),X.info("send",F);var O=JSON.stringify(F),I=this.config.api_host+(y.endpoint||"/e/"),R=y!==tq;return!this.config.request_batching||R&&!y._batchKey||y.send_instantly?this.__compress_and_send_json_request(I,O,y):this._requestQueue.enqueue(I,F,y),this._invokeCaptureHooks(d,F),F}}}},{key:"_addCaptureHook",value:function(d){this.__captureHooks.push(d)}},{key:"_invokeCaptureHooks",value:function(d,m){this.config._onCapture(d,m),D(this.__captureHooks,function(m){return m(d)})}},{key:"_calculate_event_properties",value:function(d,m){if(!this.persistence||!this.sessionPersistence)return m;var y=this.persistence.remove_event_timer(d),w=t({},m);if(w.token=this.config.token,"$snapshot"===d){var k=t(t({},this.persistence.properties()),this.sessionPersistence.properties());return w.distinct_id=k.distinct_id,w}var S=ei.properties();if(this.sessionManager){var x=this.sessionManager.checkAndGetSessionAndWindowId(),E=x.sessionId,F=x.windowId;w.$session_id=E,w.$window_id=F}if(this.config.__preview_measure_pageview_stats){var P={};"$pageview"===d?P=this.pageViewManager.doPageView():"$pageleave"===d&&(P=this.pageViewManager.doPageLeave()),w=j(w,P)}if("$pageview"===d&&(w.title=T.title),"$performance_event"===d){var O=this.persistence.properties();return w.distinct_id=O.distinct_id,w.$current_url=S.$current_url,w}if(void 0!==y){var I=(new Date).getTime()-y;w.$duration=parseFloat((I/1e3).toFixed(3))}w=j({},ei.properties(),this.persistence.properties(),this.sessionPersistence.properties(),w);var R=this.config.property_blacklist;ee(R)?D(R,function(d){delete w[d]}):X.error("Invalid value for property_blacklist config: "+R);var $=this.config.sanitize_properties;return $&&(w=$(w,d)),w}},{key:"register",value:function(d,m){var y;null===(y=this.persistence)||void 0===y||y.register(d,m)}},{key:"register_once",value:function(d,m,y){var w;null===(w=this.persistence)||void 0===w||w.register_once(d,m,y)}},{key:"register_for_session",value:function(d){var m;null===(m=this.sessionPersistence)||void 0===m||m.register(d)}},{key:"unregister",value:function(d){var m;null===(m=this.persistence)||void 0===m||m.unregister(d)}},{key:"unregister_for_session",value:function(d){var m;null===(m=this.sessionPersistence)||void 0===m||m.unregister(d)}},{key:"_register_single",value:function(d,m){this.register(s({},d,m))}},{key:"getFeatureFlag",value:function(d,m){return this.featureFlags.getFeatureFlag(d,m)}},{key:"getFeatureFlagPayload",value:function(d){var m=this.featureFlags.getFeatureFlagPayload(d);try{return JSON.parse(m)}catch(d){return m}}},{key:"isFeatureEnabled",value:function(d,m){return this.featureFlags.isFeatureEnabled(d,m)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(d,m){this.featureFlags.updateEarlyAccessFeatureEnrollment(d,m)}},{key:"getEarlyAccessFeatures",value:function(d){var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(d,m)}},{key:"onFeatureFlags",value:function(d){return this.featureFlags.onFeatureFlags(d)}},{key:"onSessionId",value:function(d){var m,y;return null!==(m=null===(y=this.sessionManager)||void 0===y?void 0:y.onSessionId(d))&&void 0!==m?m:function(){}}},{key:"getSurveys",value:function(d){var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(d,m)}},{key:"getActiveMatchingSurveys",value:function(d){var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(d,m)}},{key:"identify",value:function(d,m,y){if(!this.__loaded||!this.persistence)return X.unintializedWarning("posthog.identify");if(d){var w=this.get_distinct_id();this.register({$user_id:d}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:w},""),d!==w&&d!==this.get_property(eu)&&(this.unregister(eu),this.register({distinct_id:d}));var k="anonymous"===this.persistence.get_user_state();d!==w&&k?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(m||{},!1),this.capture("$identify",{distinct_id:d,$anon_distinct_id:w},{$set:m||{},$set_once:y||{}}),this.featureFlags.setAnonymousDistinctId(w)):(m||y)&&this.setPersonProperties(m,y),d!==w&&(this.reloadFeatureFlags(),this.unregister(eb))}else X.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(d,m){(d||m)&&(this.setPersonPropertiesForFlags(d||{}),this.capture("$set",{$set:d||{},$set_once:m||{}}))}},{key:"group",value:function(d,m,y){if(d&&m){var w=this.getGroups();w[d]!==m&&this.resetGroupPropertiesForFlags(d),this.register({$groups:t(t({},w),{},s({},d,m))}),y&&(this.capture("$groupidentify",{$group_type:d,$group_key:m,$group_set:y}),this.setGroupPropertiesForFlags(s({},d,y))),w[d]===m||y||this.reloadFeatureFlags()}else X.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(d){var m=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setPersonPropertiesForFlags(d,m)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(d){var m=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setGroupPropertiesForFlags(d,m)}},{key:"resetGroupPropertiesForFlags",value:function(d){this.featureFlags.resetGroupPropertiesForFlags(d)}},{key:"reset",value:function(d){if(!this.__loaded)return X.unintializedWarning("posthog.reset");var m,y,w,k,S=this.get_property("$device_id");null===(m=this.persistence)||void 0===m||m.clear(),null===(y=this.sessionPersistence)||void 0===y||y.clear(),null===(w=this.persistence)||void 0===w||w.set_user_state("anonymous"),null===(k=this.sessionManager)||void 0===k||k.resetSessionId();var x=this.config.get_device_id(Cn());this.register_once({distinct_id:x,$device_id:d?x:S},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var d,m;return null!==(d=null===(m=this.sessionManager)||void 0===m?void 0:m.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==d?d:""}},{key:"get_session_replay_url",value:function(d){if(!this.sessionManager)return"";var m=this.config.ui_host||this.config.api_host,y=this.sessionManager.checkAndGetSessionAndWindowId(!0),w=y.sessionId,k=y.sessionStartTimestamp,S=m+"/replay/"+w;if(null!=d&&d.withTimestamp&&k){var x,E=null!==(x=d.timestampLookBack)&&void 0!==x?x:10;if(!k)return S;var F=Math.max(Math.floor(((new Date).getTime()-k)/1e3)-E,0);S+="?t=".concat(F)}return S}},{key:"alias",value:function(d,m){return d===this.get_property(ea)?(X.critical("Attempting to create alias for existing People user - aborting."),-2):(U(m)&&(m=this.get_distinct_id()),d!==m?(this._register_single(eu,d),this.capture("$create_alias",{alias:d,distinct_id:m})):(X.warn("alias matches current distinct_id - skipping api call."),this.identify(d),-1))}},{key:"set_config",value:function(d){var m,y,w=t({},this.config);B(d)&&(j(this.config,d),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),null===(m=this.persistence)||void 0===m||m.update_config(this.config),null===(y=this.sessionPersistence)||void 0===y||y.update_config(this.config),eA.is_supported()&&"true"===eA.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(x.DEBUG=!0),this.sessionRecording&&void 0!==d.disable_session_recording&&w.disable_session_recording!==d.disable_session_recording&&(d.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var d;return!(null===(d=this.sessionRecording)||void 0===d||!d.started())}},{key:"loadToolbar",value:function(d){return this.toolbar.loadToolbar(d)}},{key:"get_property",value:function(d){var m;return null===(m=this.persistence)||void 0===m?void 0:m.props[d]}},{key:"getSessionProperty",value:function(d){var m;return null===(m=this.sessionPersistence)||void 0===m?void 0:m.props[d]}},{key:"toString",value:function(){var d,m=null!==(d=this.config.name)&&void 0!==d?d:tU;return m!==tU&&(m=tU+"."+m),m}},{key:"_gdpr_init",value:function(){"localStorage"===this.config.opt_out_capturing_persistence_type&&eA.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_capturing()&&(this.config.opt_out_capturing_by_default||e$.get("ph_optout"))&&(e$.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(d){var m,y,w,k,S;if(d&&d.clear_persistence)w=!0;else{if(!d||!d.enable_persistence)return;w=!1}this.config.disable_persistence||(null===(m=this.persistence)||void 0===m?void 0:m.disabled)===w||null===(k=this.persistence)||void 0===k||k.set_disabled(w),this.config.disable_persistence||(null===(y=this.sessionPersistence)||void 0===y?void 0:y.disabled)===w||null===(S=this.sessionPersistence)||void 0===S||S.set_disabled(w)}},{key:"_gdpr_call_func",value:function(d,m){return m=j({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},m||{}),eA.is_supported()||"localStorage"!==m.persistence_type||(m.persistence_type="cookie"),d(this.config.token,{capture:m.capture,captureEventName:m.capture_event_name,captureProperties:m.capture_properties,persistenceType:m.persistence_type,persistencePrefix:m.cookie_prefix,cookieExpiration:m.cookie_expiration,crossSubdomainCookie:m.cross_subdomain_cookie,secureCookie:m.secure_cookie})}},{key:"opt_in_capturing",value:function(d){d=j({enable_persistence:!0},d||{}),this._gdpr_call_func(Ft,d),this._gdpr_update_persistence(d)}},{key:"opt_out_capturing",value:function(d){var m=j({clear_persistence:!0},d||{});this._gdpr_call_func(Pt,m),this._gdpr_update_persistence(m)}},{key:"has_opted_in_capturing",value:function(d){return this._gdpr_call_func(Ot,d)}},{key:"has_opted_out_capturing",value:function(d){return this._gdpr_call_func(It,d)}},{key:"clear_opt_in_out_capturing",value:function(d){var m=j({enable_persistence:!0},null!=d?d:{});this._gdpr_call_func($t,m),this._gdpr_update_persistence(m)}},{key:"debug",value:function(d){!1===d?(I.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(I.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(d,m){for(var y=0;y<m.length;y++)d.prototype[m[y]]=Y(d.prototype[m[y]])}(tG,["identify"]);var tW={},tY=(tj=tD.INIT_MODULE,(tM=new tG).init=function(d,m,y){if(y)return tM[y]||(tM[y]=tW[y]=Pr(d||"",m||{},y,function(d){tM[y]=tW[y]=d,d._loaded()})),tM[y];var w=tM;return tW[tU]?w=tW[tU]:d&&(w=Pr(d,m||{},tU,function(d){tW[tU]=d,d._loaded()}),tW[tU]=w),tM=w,tj===tD.INIT_SNIPPET&&(I[tU]=tM),D(tW,function(d,m){m!==tU&&(tM[m]=d)}),w},tM.init(),function(){function e(){e.done||(e.done=!0,tz=!1,D(tW,function(d){d._dom_loaded()}))}T.addEventListener&&("complete"===T.readyState?e():T.addEventListener("DOMContentLoaded",e,!1)),er(I,"load",e,!0)}(),tM),tQ=y(959);let usePostHog=(d,m)=>{let y=(0,S.useRouter)();(0,tQ.useEffect)(()=>{tY.init(d,m);let handleRouteChange=()=>tY.capture("$pageview");return y.events.on("routeChangeComplete",handleRouteChange),()=>{y.events.off("routeChangeComplete",handleRouteChange)}},[d,m,y])};var tJ=y(9669),_app=function(d){let{Component:m,pageProps:y}=d;return usePostHog("phc_f0Uk8a68uDl7LsYOORxU22Z51ifidvXL48hHldpdz3i",{persistence_name:"labas",secure_cookie:!0,cross_subdomain_cookie:!1,loaded:d=>{}}),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(tJ.Z,{}),(0,k.jsx)(m,{...y}),";"]})}},2093:function(){},880:function(d,m,y){d.exports=y(6052)},1718:function(d,m,y){d.exports=y(1032)}},function(d){var __webpack_exec__=function(m){return d(d.s=m)};d.O(0,[774,179],function(){return __webpack_exec__(2639),__webpack_exec__(1032)}),_N_E=d.O()}]);